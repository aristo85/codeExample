"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5543],{79417:function(n,e,t){t.d(e,{Z:function(){return E}});var r=t(85893),i=t(7297),o=t(186),u=t(41664),l=t.n(u);function s(){let n=(0,i.Z)([""]);return s=function(){return n},n}function a(){let n=(0,i.Z)(["\n     align-items: center;\n  "]);return a=function(){return n},n}function c(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n  list-style-type: none;\n  align-items: center;\n  flex-wrap: wrap;\n\n  ","\n"]);return c=function(){return n},n}function d(){let n=(0,i.Z)(["\n  display: flex;\n  gap: 8px;\n"]);return d=function(){return n},n}function f(){let n=(0,i.Z)(["\n      font-size: ","\n    "]);return f=function(){return n},n}function p(){let n=(0,i.Z)(["\n    color: ",";\n    font-weight: ",";\n    font-size: ",";\n    ",";\n  "]);return p=function(){return n},n}function h(){let n=(0,i.Z)(["\n  ","\n"]);return h=function(){return n},n}function m(){let n=(0,i.Z)(["\n      max-width: 34vw;\n    "]);return m=function(){return n},n}function x(){let n=(0,i.Z)(["\n      font-size: ","\n    "]);return x=function(){return n},n}function g(){let n=(0,i.Z)(["\n    color: ",";\n    font-weight: ",";\n    font-size: ",";\n    max-width: 26vw;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n\n    ","\n\n    ","\n  "]);return g=function(){return n},n}function w(){let n=(0,i.Z)(["\n  ","\n"]);return w=function(){return n},n}function Z(){let n=(0,i.Z)(["\n      max-width: 34vw;\n    "]);return Z=function(){return n},n}function v(){let n=(0,i.Z)(["\n      font-size: ","\n    "]);return v=function(){return n},n}function b(){let n=(0,i.Z)(["\n    max-width: 26vw;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n\n    ","\n\n    ","\n  "]);return b=function(){return n},n}function y(){let n=(0,i.Z)(["\n  ","\n"]);return y=function(){return n},n}let P=o.ZP.nav.withConfig({componentId:"sc-39019b6d-0"})(s()),q=o.ZP.ul.withConfig({componentId:"sc-39019b6d-1"})(c(),n=>{let{theme:e}=n;return e.media.down("xs")(a())}),I=o.ZP.li.withConfig({componentId:"sc-39019b6d-2"})(d()),j=o.ZP.span.withConfig({componentId:"sc-39019b6d-3"})(h(),n=>{let{theme:e}=n;return(0,o.iv)(p(),e.colors.primary,e.font.weight,e.font.size.subtitle1,e.media.down("xs")(f(),e.font.size.body2))}),_=o.ZP.span.withConfig({componentId:"sc-39019b6d-4"})(w(),n=>{let{theme:e}=n;return(0,o.iv)(g(),e.colors.default,e.font.weight,e.font.size.subtitle1,e.media.down("md")(m()),e.media.down("xs")(x(),e.font.size.body2))}),z=(0,o.ZP)(l()).withConfig({componentId:"sc-39019b6d-5"})(y(),n=>{let{theme:e}=n;return(0,o.iv)(b(),e.media.down("md")(Z()),e.media.down("xs")(v(),e.font.size.body2))});var C=t(67294),k=t(34956);let N=n=>{let{paths:e,isMobile:t}=n,i=e,o=!1;return t&&e.length>2&&(i=e.slice(-2),o=!0),(0,r.jsx)(P,{children:(0,r.jsxs)(q,{children:[o&&(0,r.jsxs)(I,{children:[(0,r.jsx)("span",{children:"..."}),(0,r.jsx)(k.Z,{})]}),i.map((n,e)=>(0,r.jsxs)(C.Fragment,{children:[(0,r.jsx)(I,{children:n.url&&e!==i.length-1?(0,r.jsx)(z,{href:n.url,passHref:!0,children:(0,r.jsx)(j,{children:n.label})}):(0,r.jsx)(_,{children:n.label})}),i.length-1>e&&(0,r.jsx)(I,{children:(0,r.jsx)(k.Z,{})})]},e))]})})};var E=N},32762:function(n,e,t){t.d(e,{Z:function(){return Z}});var r=t(85893);t(67294);var i=t(7297),o=t(186),u=t(42143);function l(){let n=(0,i.Z)(["\n        margin: 0 ",";\n      "]);return l=function(){return n},n}function s(){let n=(0,i.Z)(["\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      margin: 0 auto;\n      max-width: 1180px;\n      padding: 32px;\n      z-index: 1001;\n\n      ","\n    "]);return s=function(){return n},n}function a(){let n=(0,i.Z)(["\n    margin: 0 ",";\n    border:none;\n    padding: 16px 0 16px 0;\n    \n    &.step3 {\n      flex-direction: column;\n    }\n    "]);return a=function(){return n},n}function c(){let n=(0,i.Z)(["\n    ","\n  "]);return c=function(){return n},n}function d(){let n=(0,i.Z)(["\n  border-top: 2px solid #1d7abd;\n  padding-top: 32px;\n  background: #fff;\n  display: flex;\n  direction: rtl;\n  gap: 16px;\n  max-width: 1440px;\n\n  ","\n  ","\n"]);return d=function(){return n},n}function f(){let n=(0,i.Z)(["\n      width: 100%;\n      font-size: 20px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    "]);return f=function(){return n},n}function p(){let n=(0,i.Z)(["\n        min-width: auto;\n        padding: 8px;\n        font-size: 16px;\n    "]);return p=function(){return n},n}function h(){let n=(0,i.Z)(["\n    display: ",";\n    ","\n    ","\n  "]);return h=function(){return n},n}function m(){let n=(0,i.Z)(["\n  width: 256px;\n  min-width: fit-content;\n\n  ","\n"]);return m=function(){return n},n}let x=o.ZP.div.withConfig({componentId:"sc-e6ade91f-0"})(d(),n=>{let{sticky:e,theme:t}=n;return e&&(0,o.iv)(s(),t.media.down("md")(l(),t.layouts.paddingMd))},n=>{let{theme:e,sticky:t}=n;return(0,o.iv)(c(),e.media.down("sm")(a(),e.layouts.paddingSm))}),g=(0,o.ZP)(u.Z).withConfig({componentId:"sc-e6ade91f-1"})(m(),n=>{let{theme:e,hidden:t}=n;return(0,o.iv)(h(),t?"none":"unset",e.media.down("sm")(f()),e.media.down("xxs")(p()))}),w=n=>{let{totalSteps:e,currentStep:t,handleNextStep:i,handleBackStep:o,sticky:u,booking:l,className:s}=n,a=t===e;return(0,r.jsxs)(x,{sticky:u,className:s,children:[(0,r.jsx)(g,{hidden:!a,dark:!0,type:"submit",children:l?"Подтвердить бронирование":"Далее"}),(0,r.jsx)(g,{hidden:a,dark:!0,type:"button",onClick:i,children:"Далее"}),t>1&&(0,r.jsx)(g,{type:"button",onClick:o,children:"Назад"})]})};var Z=w},34956:function(n,e,t){var r=t(85893);t(67294);let i=n=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:10,height:20,fill:"none",...n,children:(0,r.jsx)("path",{stroke:n.stroke?n.stroke:"#222121",strokeLinecap:"round",strokeWidth:2,d:"m1 1 7.293 7.293a1 1 0 0 1 0 1.414L1 17"})});e.Z=i},88e3:function(n,e,t){t.d(e,{Z:function(){return j}});var r=t(85893),i=t(67294),o=t(7297),u=t(186);function l(){let n=(0,o.Z)(["\n  position: relative;\n  display: block;\n  width: 100%;\n  padding-bottom: 17px;\n"]);return l=function(){return n},n}function s(){let n=(0,o.Z)(["\n    font-size: ",";\n    color: ",";\n  "]);return s=function(){return n},n}function a(){let n=(0,o.Z)(["\n  display: block;\n  margin-bottom: 8px;\n  line-height: 23px;\n  ","\n"]);return a=function(){return n},n}function c(){let n=(0,o.Z)(["\n      &::after {\n        transform: scaleX(1);\n      }\n    "]);return c=function(){return n},n}function d(){let n=(0,o.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  border-bottom: 1px solid ",";\n  overflow: hidden;\n  transition: ",";\n  height: 88px;\n  background: #ffffff !important;\n  border: 3px solid\n    ",";\n  border-radius: 16px;\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: calc(100% - 1px);\n    left: 0;\n    display: block;\n    width: 100%;\n    height: 2px;\n    transform: scaleX(0);\n    transition: ",";\n  }\n\n  ","\n"]);return d=function(){return n},n}function f(){let n=(0,o.Z)(["\n      margin-left: 17px;\n    "]);return f=function(){return n},n}function p(){let n=(0,o.Z)(["\n      margin-left: 8px;\n    "]);return p=function(){return n},n}function h(){let n=(0,o.Z)(["\n      cursor: pointer;\n    "]);return h=function(){return n},n}function m(){let n=(0,o.Z)(["\n  display: flex;\n\n  ","\n\n  ","\n\n  ","\n"]);return m=function(){return n},n}function x(){let n=(0,o.Z)(["\n  width: 100%;\n  height: 100%;\n  border: none;\n  outline: none;\n  font-size: ",";\n  font-weight: ",";\n  padding: 6px 16px;\n  resize: none;\n  &::-ms-reveal,\n  &::-ms-clear {\n    display: none;\n  }\n\n  &:disabled {\n    background-color: ",";\n    color: ",";\n  }\n\n  &::placeholder {\n    color: ",";\n  }\n"]);return x=function(){return n},n}function g(){let n=(0,o.Z)(["\n  position: absolute;\n  left: 0;\n  color: red;\n  font-size: 14px;\n  width: 100%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return g=function(){return n},n}let w=u.ZP.label.withConfig({componentId:"sc-9639c41f-0"})(l()),Z=u.ZP.label.withConfig({componentId:"sc-9639c41f-1"})(a(),n=>{let{theme:e}=n;return(0,u.iv)(s(),e.font.size.subtitle2,e.colors.default)}),v=u.ZP.div.withConfig({componentId:"sc-9639c41f-2"})(d(),n=>{let{theme:e,isError:t}=n;return t?"red":"grey"},n=>n.theme.transition.fast,n=>{let{theme:e,isError:t,isFilled:r}=n;return r&&!t?e.colors.primary:t?"red":e.colors.secondary},n=>n.theme.transition.fast,n=>n.isFocused&&(0,u.iv)(c())),b=u.ZP.div.withConfig({componentId:"sc-9639c41f-3"})(m(),n=>"left"===n.position&&(0,u.iv)(f()),n=>"right"===n.position&&(0,u.iv)(p()),n=>n.isPassword&&(0,u.iv)(h())),y=u.ZP.textarea.withConfig({componentId:"sc-9639c41f-4"})(x(),n=>n.theme.font.size.body2,n=>n.theme.font.weight.semiBold,n=>n.theme.colors.lightDefault,n=>n.theme.colors.default,n=>n.theme.colors.secondary),P=u.ZP.span.withConfig({componentId:"sc-9639c41f-5"})(g());var q=t(62405);let I=(0,i.forwardRef)((n,e)=>{let{name:t,label:o,placeholder:u,startAdornment:l,endAdornment:s,className:a,style:c,disabled:d=!1,error:f,onFocus:p,onBlur:h,...m}=n,[x,g]=(0,q.k)(),[I,j]=(0,i.useState)(!1),[_,z]=(0,i.useState)(!1),C=(0,i.useCallback)(n=>{p&&p(n),g.on()},[p,g.on]),k=(0,i.useCallback)(n=>{h&&h(n),g.off(),z(!0)},[h,g.off]);return(0,r.jsxs)(w,{className:a,style:c,children:[!!o&&(0,r.jsx)(Z,{children:o}),(0,r.jsxs)(v,{className:"textarea",isError:!!f,isFocused:x,isFilled:_,children:[l&&(0,r.jsx)(b,{position:"left",children:l}),(0,r.jsx)(y,{placeholder:u,name:t,disabled:d,ref:e,onFocus:C,onBlur:k,...m}),s&&(0,r.jsx)(b,{position:"right",children:s})]}),!!f&&(0,r.jsx)(P,{children:f})]})});I.displayName="TextareaStyled";var j=I},56669:function(n,e,t){t.d(e,{x:function(){return r}});let r=(n,e)=>{for(let t in n)if(n[t].includes(e))return parseInt(t);return 1}},85601:function(n,e,t){t.d(e,{B:function(){return o}});var r=t(67294),i=t(82741);let o=()=>{let{data:n}=(0,i.tu)(),e=(0,r.useMemo)(()=>(null==n?void 0:n.data.cityList.map(n=>({title:n.name,value:String(n.id)})))||[],[n]);return[e]}},60268:function(n,e,t){t.d(e,{g:function(){return o}});var r=t(67294),i=t(11163);let o=(n,e,t)=>{let o=(0,i.useRouter)(),[u,l]=(0,r.useState)(1),s=e=>{let t=o.query.id,r=t?o.pathname.replace("[id]","".concat(t)):o.pathname;e<=n&&o.push("".concat(r,"?step=").concat(e),void 0,{shallow:!0})};return(0,r.useEffect)(()=>{o.query.step&&l(Number(o.query.step))},[o.query.step]),(0,r.useEffect)(()=>{var n;let r=null!==(n=o.query.step)&&void 0!==n?n:1;if(e&&+r>1&&t){let n=o.pathname.includes("[id]")?o.asPath.split("?step")[0]:o.pathname;o.push("".concat(n,"?step=1"))}},[e,o,t]),{currentStep:u,setStep:s}}},51949:function(n,e,t){t.d(e,{l:function(){return i}});var r=t(20377);function i(){let{enqueueSnackbar:n}=(0,r.Ds)(),e=(e,t)=>{n(e,{variant:t})};return e}},80902:function(n,e,t){var r=t(67294),i=t(11163);e.Z=function(n){let e=(0,i.useRouter)();(0,r.useEffect)(()=>{let t=t=>{let r=e.pathname.includes("[id]"),i=r?e.pathname.split("[id]")[0]:"".concat(e.pathname,"?"),o=r?t.replace(/\/\d+.*$/,"/"):t.split("step")[0];i!==o&&n()};return e.events.on("routeChangeStart",t),()=>{e.events.off("routeChangeStart",t)}},[e,n])}},84044:function(n,e,t){t.d(e,{AU:function(){return c},F:function(){return d},UM:function(){return o},Up:function(){return h},X6:function(){return x},eS:function(){return m},hD:function(){return f},yU:function(){return g}});var r=t(38445),i=t(16310);let o=n=>i.Z_().trim().required(n).min(0).max(3e3,"Недопустимое количество символов"),u=i.Z_().required("Введите email экскурсовода").email("Недопустимые символы/формат").matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Недопустимые символы/формат").typeError("Недопустимое значение"),l=n=>i.Z_().required("Введите номер телефона экскурсовода").min(6,"Недопустимое количество символов").max(15,"Недопустимое количество символов"),s=i.Z_().trim().required("Введите имя экскурсовода").min(2,(0,r.JB)(2,100)).max(100,(0,r.JB)(2,100)),a=i.Z_().trim().required("Введите название экскурсии").min(2,(0,r.JB)(2,160)).max(160,(0,r.JB)(2,160)),c=n=>i.Rx().transform((n,e)=>""===e?void 0:n).typeError("Только цифры").required(n).min(1,"Недопустимое количество символов").max(1e5,"Недопустимое количество символов"),d=n=>i.Ry().shape({name:a,guideName:s,guidePhone:l(10+n),guideEmail:u,description:o("Введите описание экскурсии"),guideAvatar:i.IX().required("Добавьте фото экскурсовода").min(1,"Добавьте фото экскурсовода")}),f=i.Ry().shape({withChildren:i.O7(),cityId:i.Z_().required("Выберите населенный пункт"),maxNumberOfParticipants:c("Введите максимальное количество участников"),travelMode:i.Z_().required("Выберите способ передвижения"),duration:i.Z_().required("Выберите продолжительность"),adultPrice:i.Z_().test("isAdultPriceValid","Default message",function(n){let{type:e}=this.parent;if(void 0===n||""===n.trim())return this.createError({message:"INDIVIDUAL"===e?"Введите стоимость экскурсии":"Введите стоимость экскурсии за взрослого"});let t=parseFloat(n);return isNaN(t)||"".concat(t).length!==n.length?this.createError({message:"Только цифры"}):!(t<1)&&!(t>1e5)||this.createError({message:"Недопустимое количество символов"})}),childrenPrice:i.Z_().test("isChildrenPriceValid","Введите стоимость экскурсии за ребенка",function(n){let{withChildren:e,type:t}=this.parent;if(!0===e&&"GROUP"===t){if("string"==typeof n&&""!==n.trim()){let e=parseInt(n,10);return!isNaN(e)&&e>=1&&"".concat(e).length===n.length}return!1}return!0})}),p={date:i.Z_().required("form.required_message"),timeList:i.IX().of(i.Ry().shape({time:i.Z_().required("form.required_message")})).required("form.required_message").min(1,"Добавьте время")},h=i.Ry().shape({schedule:i.IX().test("unique-dates","дата не должна повторяться",function(n){let e=null==n?void 0:n.map(n=>n.date),t=new Set(e);return(null==e?void 0:e.length)===t.size}).of(i.Ry().shape(p)).required("Must have fields").min(1,"Добавьте дату и время")}),m=i.Ry().shape({meetingPlace:i.Ry().shape({lat:i.Z_().required("form.required_message"),lng:i.Z_().required("form.required_message")}),meetingPlaceDescription:i.Z_().required("Введите точное место встречи")}),x=i.Ry().shape({mainPhoto:i.IX().required("Загрузите главную фотографию").min(1,"Загрузите главную фотографию"),photos:i.IX().required("Загрузите фотографии").min(6,"минимум 6 фотографий")}),g={1:["name","guideName","guidePhone","guideEmail","description","guideAvatar"],2:["cityId","maxNumberOfParticipants","travelMode","duration","adultPrice","childrenPrice"],3:["schedule"],4:["meetingPlace","meetingPlaceDescription"],5:["mainPhoto","photos"]}}}]);