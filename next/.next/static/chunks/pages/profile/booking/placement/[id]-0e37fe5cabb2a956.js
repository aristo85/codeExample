(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9678],{50283:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/booking/placement/[id]",function(){return e(51146)}])},5765:function(n,t,e){"use strict";e.d(t,{c:function(){return i}});let i={GUIDE:"GUIDE",EXCURSION:"EXCURSION",PLACEMENT:"PLACEMENT"}},22865:function(n,t,e){"use strict";var i=e(85893);e(67294);var r=e(12918),o=e.n(r);let l=n=>{let{status:t,message:e}=n,r=(null==t?void 0:t.toString().startsWith("5"))?"Сервис недоступен":e;return(0,i.jsx)(o(),{title:r,statusCode:null!=t?t:500})};t.Z=l},6153:function(n,t,e){"use strict";var i=e(85893);e(67294);let r=n=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",...n,children:(0,i.jsx)("path",{fill:"#8DAEC1",d:"M21.188 24H8.438a2.815 2.815 0 01-2.813-2.813V8.438a2.815 2.815 0 012.813-2.812h12.75A2.815 2.815 0 0124 8.438v12.75A2.815 2.815 0 0121.187 24zM8.438 7.5a.939.939 0 00-.938.938v12.75c0 .516.42.937.938.937h12.75c.516 0 .937-.42.937-.938V8.438a.939.939 0 00-.938-.937H8.438zm-4.688 9h-.938a.939.939 0 01-.937-.938V2.813c0-.516.42-.937.938-.937h12.75c.516 0 .937.42.937.938v.89h1.875v-.89A2.815 2.815 0 0015.562 0H2.813A2.815 2.815 0 000 2.813v12.75a2.815 2.815 0 002.813 2.812h.937V16.5z"})});t.Z=r},95513:function(n,t,e){"use strict";e.d(t,{m:function(){return r}});var i=e(51949);let r=()=>{let n=(0,i.l)(),t=t=>{navigator.clipboard.writeText(t).then(()=>n("Вы удачно скопировали поле","success")).catch(()=>n("Что-то пошло не так, попробуйте заново","error"))};return[t]}},72974:function(n,t,e){"use strict";var i=e(43180),r=e(41248),o=e(37574),l=e(11163);let u=()=>{let[n]=(0,i.L$)(),t=(0,l.useRouter)(),e=(0,r.I0)(),u=async i=>{let{bookingId:r,itemId:l,type:u,additionalQuery:c}=i,d=await n(r).unwrap();d.success&&(await e((0,o.Ds)(d.data)),await t.push("/booking/".concat(u.toLowerCase(),"/").concat(l,"/payment?bookingId=").concat(r).concat(c?"&".concat(c):"")))};return[u]};t.Z=u},7705:function(n,t,e){"use strict";e.d(t,{$D:function(){return nt},$d:function(){return K},A3:function(){return nf},AU:function(){return nl},Au:function(){return nd},DH:function(){return nj},Dx:function(){return np},Ev:function(){return ni},GH:function(){return nu},LB:function(){return nh},LQ:function(){return ne},Lw:function(){return ns},MF:function(){return na},gN:function(){return no},iz:function(){return nc},lX:function(){return nn},ll:function(){return nx},m8:function(){return nr},mj:function(){return Q},tA:function(){return nm},uT:function(){return ng},xJ:function(){return J}});var i=e(7297),r=e(186),o=e(42143),l=e(6153);function u(){let n=(0,i.Z)(["\n      padding: 0px;\n  "]);return u=function(){return n},n}function c(){let n=(0,i.Z)(["\n    padding: 0;\n    ","\n  "]);return c=function(){return n},n}function d(){let n=(0,i.Z)(["\n  padding-bottom: 32px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  ","\n"]);return d=function(){return n},n}function s(){let n=(0,i.Z)(["\n    flex-direction: column;\n  "]);return s=function(){return n},n}function f(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return f=function(){return n},n}function a(){let n=(0,i.Z)(["\n    flex-direction: column;\n    gap: 0;\n    align-items: center;\n  "]);return a=function(){return n},n}function x(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 10%;\n  ","\n"]);return x=function(){return n},n}function h(){let n=(0,i.Z)(["\n      width: 100%;\n    "]);return h=function(){return n},n}function p(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return p=function(){return n},n}function m(){let n=(0,i.Z)(["\n      flex-direction: column;\n      gap: 10px;\n    "]);return m=function(){return n},n}function g(){let n=(0,i.Z)(["\n    ","\n  "]);return g=function(){return n},n}function j(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n  margin-top: 30px;\n\n  ","\n"]);return j=function(){return n},n}function v(){let n=(0,i.Z)(["\n      flex-direction: column;\n      gap: 10px;\n    "]);return v=function(){return n},n}function w(){let n=(0,i.Z)(["\n    ","\n  "]);return w=function(){return n},n}function Z(){let n=(0,i.Z)(["\n    & > span {\n      & > h2 {\n        font-family: ",";\n        font-size: ",";\n        font-weight: 400;\n        line-height: 39px;\n        margin-bottom: 8px;\n      }\n      & > span {\n        font-family: ",";\n        font-size: ",";\n        font-weight: 400;\n      }\n    }\n  "]);return Z=function(){return n},n}function C(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  gap: 10px;\n  ","\n\n  ","\n"]);return C=function(){return n},n}function y(){let n=(0,i.Z)(["\n      align-items: flex-start;\n      flex-direction: column;\n    "]);return y=function(){return n},n}function A(){let n=(0,i.Z)(["\n    ","\n  "]);return A=function(){return n},n}function b(){let n=(0,i.Z)(["\n  display: flex;\n  gap: 24px;\n  align-items: center;\n  padding-top: 32px;\n  padding-bottom: 32px;\n\n  ","\n"]);return b=function(){return n},n}function I(){let n=(0,i.Z)(["\n    margin: 16px 0 0;\n    font-size: 20px;\n    line-height: 28px;\n    "]);return I=function(){return n},n}function D(){let n=(0,i.Z)(["\n    ","\n  "]);return D=function(){return n},n}function N(){let n=(0,i.Z)(["\n  margin: 32px 0 0;\n  font-weight: 400;\n  font-size: 24px;\n  line-height: 27px;\n  color: #222121;\n\n  ","\n"]);return N=function(){return n},n}function H(){let n=(0,i.Z)(["\n    gap: 4px;\n    width: 90%;\n    "]);return H=function(){return n},n}function P(){let n=(0,i.Z)(["\n    ","\n  "]);return P=function(){return n},n}function E(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  width: 100%;\n\n  ","\n"]);return E=function(){return n},n}function k(){let n=(0,i.Z)(["\n    font-size: 20px;\n    line-height: 28px;\n    "]);return k=function(){return n},n}function z(){let n=(0,i.Z)(["\n    ","\n  "]);return z=function(){return n},n}function G(){let n=(0,i.Z)(["\n  font-weight: 400;\n  font-size: 24px;\n  line-height: 27px;\n  color: #222121;\n\n  ","\n"]);return G=function(){return n},n}function U(){let n=(0,i.Z)(["\n    font-size: 16px;\n    line-height: 22px;\n    "]);return U=function(){return n},n}function M(){let n=(0,i.Z)(["\n    ","\n  "]);return M=function(){return n},n}function T(){let n=(0,i.Z)(["\n  font-size: 20px;\n  line-height: 23px;\n  color: ",";\n\n  ","\n"]);return T=function(){return n},n}function Y(){let n=(0,i.Z)(["\n  height: 2px;\n  background: #8daec1;\n"]);return Y=function(){return n},n}function L(){let n=(0,i.Z)(["\n      max-width: 275px;\n      border-radius: 20px;\n  "]);return L=function(){return n},n}function _(){let n=(0,i.Z)(["\n  max-width: 300px;\n  border-radius: 32px;\n  ","\n"]);return _=function(){return n},n}function B(){let n=(0,i.Z)(["\n  width: auto;\n  white-space: nowrap;\n  font-size: 24px;\n  color: #eb5757;\n  border-color: #eb5757;\n\n  &:hover {\n    background: rgba(235, 87, 87, 0.3);\n  }\n\n  &:active {\n    background: #fff;\n    color: #eb5757;\n  }\n"]);return B=function(){return n},n}function $(){let n=(0,i.Z)(["\n      align-items:center;\n  "]);return $=function(){return n},n}function F(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  align-items: flex-end;\n  ","\n"]);return F=function(){return n},n}function S(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  width: 100%;\n  padding-bottom: 16px;\n"]);return S=function(){return n},n}function X(){let n=(0,i.Z)(["\n  display: flex;\n  gap: 16px;\n  flex-direction: column;\n"]);return X=function(){return n},n}function O(){let n=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return O=function(){return n},n}function V(){let n=(0,i.Z)(["\n  font-size: 24px;\n  line-height: 32px;\n"]);return V=function(){return n},n}function W(){let n=(0,i.Z)(["\n  font-size: 16px;\n  font-style: normal;\n  line-height: normal;\n"]);return W=function(){return n},n}function R(){let n=(0,i.Z)(["\n  cursor: pointer;\n"]);return R=function(){return n},n}function q(){let n=(0,i.Z)(["\n  font-size: 20px;\n  line-height: 23px;\n  color: #222121;\n"]);return q=function(){return n},n}let J=r.ZP.div.withConfig({componentId:"sc-14644dff-0"})(d(),n=>{let{theme:t}=n;return t.media.down("sm")(c(),t.media.down("xs")(u()))}),Q=r.ZP.div.withConfig({componentId:"sc-14644dff-1"})(f(),n=>{let{theme:t}=n;return t.media.down("md")(s())}),K=r.ZP.div.withConfig({componentId:"sc-14644dff-2"})(x(),n=>{let{theme:t}=n;return t.media.down("md")(a())}),nn=r.ZP.div.withConfig({componentId:"sc-14644dff-3"})(p(),n=>{let{$fullWidth:t}=n;return t&&(0,r.iv)(h())}),nt=r.ZP.div.withConfig({componentId:"sc-14644dff-4"})(j(),n=>{let{theme:t}=n;return(0,r.iv)(g(),t.media.down("md")(m()))}),ne=r.ZP.div.withConfig({componentId:"sc-14644dff-5"})(C(),n=>{let{theme:t}=n;return(0,r.iv)(w(),t.media.down("md")(v()))},n=>{let{theme:t}=n;return(0,r.iv)(Z(),t.font.family.gothicMedium,t.font.size.heading2,t.font.family.gothicBook,t.font.size.subtitle5)}),ni=r.ZP.div.withConfig({componentId:"sc-14644dff-6"})(b(),n=>{let{theme:t}=n;return(0,r.iv)(A(),t.media.down("md")(y()))}),nr=r.ZP.h2.withConfig({componentId:"sc-14644dff-7"})(N(),n=>{let{theme:t}=n;return(0,r.iv)(D(),t.media.down("md")(I()))}),no=r.ZP.div.withConfig({componentId:"sc-14644dff-8"})(E(),n=>{let{theme:t}=n;return(0,r.iv)(P(),t.media.down("md")(H()))}),nl=r.ZP.h6.withConfig({componentId:"sc-14644dff-9"})(G(),n=>{let{theme:t}=n;return(0,r.iv)(z(),t.media.down("md")(k()))}),nu=r.ZP.p.withConfig({componentId:"sc-14644dff-10"})(T(),n=>{let{$blue:t}=n;return t?"#1D7ABD":"#4f4f4f"},n=>{let{theme:t}=n;return(0,r.iv)(M(),t.media.down("md")(U()))}),nc=r.ZP.div.withConfig({componentId:"sc-14644dff-11"})(Y()),nd=r.ZP.img.withConfig({componentId:"sc-14644dff-12"})(_(),n=>{let{theme:t}=n;return t.media.down("xs")(L())}),ns=(0,r.ZP)(o.Z).withConfig({componentId:"sc-14644dff-13"})(B()),nf=r.ZP.div.withConfig({componentId:"sc-14644dff-14"})(F(),n=>{let{theme:t}=n;return t.media.down("xs")($())}),na=r.ZP.div.withConfig({componentId:"sc-14644dff-15"})(S()),nx=r.ZP.div.withConfig({componentId:"sc-14644dff-16"})(X()),nh=r.ZP.div.withConfig({componentId:"sc-14644dff-17"})(O()),np=r.ZP.p.withConfig({componentId:"sc-14644dff-18"})(V()),nm=r.ZP.p.withConfig({componentId:"sc-14644dff-19"})(W()),ng=(0,r.ZP)(l.Z).withConfig({componentId:"sc-14644dff-20"})(R()),nj=r.ZP.p.withConfig({componentId:"sc-14644dff-21"})(q())},94349:function(n,t,e){"use strict";e.d(t,{E:function(){return o}});var i=e(49305);let r=i.gk.injectEndpoints({endpoints:n=>({getDetailedBookingDataById:n.query({query:n=>({url:"/booking/".concat(n)}),providesTags:["bookedByID"]})}),overrideExisting:!0}),{useGetDetailedBookingDataByIdQuery:o}=r},51146:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return D}});var i=e(85893);e(67294);var r=e(22865),o=e(43180),l=e(65959),u=e(7705),c=e(27484),d=e.n(c),s=e(79417),f=e(27030),a=e(40152),x=e(80514),h=e(95513),p=e(20293),m=e(42143);let g=n=>{var t,e,r,o;let{data:l,cancel:c,id:a,breadcrumbsItems:x,payHandler:g}=n,[j]=(0,h.m)(),{bookingNumber:v,touristData:w,placementData:Z,status:C,isCanBeCancelled:y}=l,{name:A,images:b,partnerData:I,roomStays:D}=Z||{},N=null==D?void 0:D[0],H=null==b?void 0:b[0];return(0,i.jsxs)(u.MF,{children:[(0,i.jsx)(u.xJ,{children:(0,i.jsx)(s.Z,{paths:x})}),(0,i.jsxs)(u.ll,{children:[(0,i.jsx)(u.Dx,{children:A}),(0,i.jsx)(f.Z,{status:C}),v&&(0,i.jsxs)(u.tA,{children:["№ брони ",v]})]}),(0,i.jsx)(u.ll,{children:(0,i.jsx)(u.Au,{src:H})}),N&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.ll,{children:[(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Дата заезда"}),(0,i.jsx)(u.GH,{children:d()(N.stayDates.arrivalDateTime).format("DD.MM.YYYY HH:mm")})]}),(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Дата выезда"}),(0,i.jsx)(u.GH,{children:d()(N.stayDates.departureDateTime).format("DD.MM.YYYY HH:mm")})]}),(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Количество гостей"}),(0,i.jsxs)(u.GH,{children:["Взрослых: ",N.guestCount.adultCount,(null==N?void 0:null===(t=N.guestCount)||void 0===t?void 0:t.childAges)&&(null==N?void 0:null===(e=N.guestCount)||void 0===e?void 0:null===(r=e.childAges)||void 0===r?void 0:r.length)>0?", Детей: ".concat(null==N?void 0:null===(o=N.guestCount)||void 0===o?void 0:o.childAges.length):""]})]})]}),(0,i.jsx)(u.iz,{}),(0,i.jsx)(u.m8,{style:{margin:0},children:"Данные места проживания"}),(0,i.jsx)(u.ll,{style:{paddingBottom:0},children:(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Адрес"}),(0,i.jsx)(u.GH,{$blue:!0,children:null==Z?void 0:Z.address})]})}),(0,i.jsxs)(u.ll,{children:[(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Электронная почта"}),(0,i.jsxs)(u.LB,{children:[(0,i.jsx)(u.GH,{children:null==I?void 0:I.email}),(0,i.jsx)(u.uT,{onClick:()=>j((null==I?void 0:I.email)||"")})]})]}),(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Контактный телефон"}),(0,i.jsxs)(u.GH,{children:["+",null==I?void 0:I.phone]})]})]})]}),(null==N?void 0:N.services)&&N.services.length>0&&(0,i.jsxs)(u.ll,{children:[(0,i.jsx)(u.iz,{}),N.services.map(n=>(0,i.jsx)(u.DH,{children:n.name},n.id))]}),w.comments&&(0,i.jsxs)(u.ll,{children:[(0,i.jsx)(u.iz,{}),(0,i.jsx)(u.AU,{children:"Комментарий"}),(0,i.jsx)(u.GH,{style:{whiteSpace:"pre-wrap"},children:w.comments})]}),(0,i.jsxs)(u.$D,{children:[y&&v&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u.Lw,{onClick:()=>c(+a),children:"Отменить бронирование"})}),C===p.g.WAITING_PAYMENT&&(0,i.jsx)(m.Z,{style:{width:"auto"},onClick:()=>g(Number(a)),children:"Оплатить"})]})]})};var j=e(72974),v=e(5765);let w=n=>{var t,e,r,o,l;let{data:c,cancel:w,approve:Z,id:C}=n,y=(0,a.Z)("(max-width: ".concat(x.AV.md,"px)")),{bookingNumber:A,touristData:b,placementData:I,status:D,isCanBeCancelled:N}=c,[H]=(0,h.m)(),{name:P,images:E,partnerData:k,roomStays:z}=I||{},G=[{url:"/profile",label:"Профиль"},{url:"/profile/booking",label:"Бронирование"},{url:"profile/booking/".concat(C),label:P||""}],[U]=(0,j.Z)(),M=async n=>{var t,e;n&&(null===(t=c.placementData)||void 0===t?void 0:t.id)&&U({bookingId:n,type:v.c.PLACEMENT,itemId:null===(e=c.placementData)||void 0===e?void 0:e.id})},T=null==z?void 0:z[0],Y=null==E?void 0:E[0];return y?(0,i.jsx)(g,{data:c,cancel:w,id:C,breadcrumbsItems:G,payHandler:M}):(0,i.jsxs)(u.mj,{children:[(0,i.jsxs)(u.$d,{children:[(0,i.jsxs)(u.lX,{$fullWidth:!0,children:[(0,i.jsx)(u.xJ,{children:(0,i.jsx)(s.Z,{paths:G})}),(0,i.jsxs)(u.LQ,{children:[(0,i.jsxs)("span",{children:[(0,i.jsx)("h2",{children:P}),(0,i.jsxs)("span",{children:["№ брони ",A]})]}),(0,i.jsx)(f.Z,{status:D})]}),T&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.Ev,{children:[(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Дата заезда"}),(0,i.jsx)(u.GH,{children:d()(T.stayDates.arrivalDateTime).format("DD.MM.YYYY HH:mm")})]}),(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Дата выезда"}),(0,i.jsx)(u.GH,{children:d()(T.stayDates.departureDateTime).format("DD.MM.YYYY HH:mm")})]}),(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Количество гостей"}),(0,i.jsxs)(u.GH,{children:["Взрослых: ",T.guestCount.adultCount,(null==T?void 0:null===(t=T.guestCount)||void 0===t?void 0:t.childAges)&&(null==T?void 0:null===(e=T.guestCount)||void 0===e?void 0:null===(r=e.childAges)||void 0===r?void 0:r.length)>0?", Детей: ".concat(null==T?void 0:null===(o=T.guestCount)||void 0===o?void 0:o.childAges.length):""]})]})]}),(0,i.jsx)(u.iz,{}),(0,i.jsx)(u.m8,{children:"Данные места проживания"}),(0,i.jsx)(u.Ev,{style:{paddingBottom:0},children:(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Адрес"}),(0,i.jsx)(u.GH,{$blue:!0,children:null==I?void 0:I.address})]})}),(0,i.jsxs)(u.Ev,{children:[(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Контактный телефон"}),(0,i.jsxs)(u.GH,{children:["+",null==k?void 0:k.phone]})]}),(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.AU,{children:"Электронная почта"}),(0,i.jsxs)(u.LB,{children:[(0,i.jsx)(u.GH,{children:null==k?void 0:k.email}),(0,i.jsx)(u.uT,{onClick:()=>H((null==k?void 0:k.email)||"")})]})]})]})]}),(null==T?void 0:T.services)&&(null==T?void 0:null===(l=T.services)||void 0===l?void 0:l.length)>0&&(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.iz,{}),T.services.map(n=>(0,i.jsx)(u.DH,{children:n.name},n.id))]}),b.comments&&(0,i.jsxs)(u.gN,{children:[(0,i.jsx)(u.iz,{}),(0,i.jsx)(u.AU,{children:"Комментарий"}),(0,i.jsx)(u.GH,{style:{whiteSpace:"pre-wrap"},children:b.comments})]})]}),(0,i.jsx)(u.lX,{children:(0,i.jsx)(u.Au,{src:Y})})]}),(0,i.jsxs)(u.$D,{children:[N&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u.Lw,{onClick:()=>w(+C),children:"Отменить бронирование"})}),D===p.g.WAITING_PAYMENT&&(0,i.jsx)(m.Z,{style:{width:"auto"},onClick:()=>M(Number(C)),children:"Оплатить"})]})]})};var Z=e(11163),C=e(49043),y=e(74037),A=e(94349),b=e(69398);let I=()=>{let n=(0,Z.useRouter)(),{id:t}=n.query,{data:e,isLoading:u,isError:c,error:d,refetch:s}=(0,A.E)(Number(t),{skip:!t}),[f,{isLoading:a}]=(0,o.ES)();(0,b.Z)(e,s);let{isCancellationModalOpen:x,modalCancelButtonClickFunction:h,modalAcceptButtonClickFunction:p,penaltyAmount:m,onCancelButtonClick:g,isCalculatePenaltyLoading:j,isLoadingCancel:v}=(0,C.L)();if(c){let{data:n}=d;return(0,i.jsx)(r.Z,{status:null==n?void 0:n.status,message:null==n?void 0:n.message})}return u||v||a||j||(null==e?void 0:e.data)==void 0?(0,i.jsx)(l.Z,{showSpinner:!0}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.W,{isOpen:x,closeButton:h,cancelBooking:p,penaltyAmount:m}),(0,i.jsx)(w,{data:e.data,cancel:g,approve:f,id:t})]})};var D=I},12918:function(n,t,e){n.exports=e(43499)}},function(n){n.O(0,[6216,9774,2888,179],function(){return n(n.s=50283)}),_N_E=n.O()}]);