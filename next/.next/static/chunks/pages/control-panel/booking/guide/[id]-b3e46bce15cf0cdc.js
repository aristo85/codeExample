(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1228],{59234:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/control-panel/booking/guide/[id]",function(){return t(46196)}])},87295:function(n,e,t){"use strict";t.d(e,{Z:function(){return C}});var i=t(85893);t(67294);var r=t(7297),o=t(25675),c=t.n(o),l=t(57333),d=t(186);function u(){let n=(0,r.Z)(["\n  width: 300px;\n  border-radius: 32px;\n  background: #c6e1f3;\n  padding: 24px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  align-items: center;\n  justify-content: center;\n"]);return u=function(){return n},n}function s(){let n=(0,r.Z)(["\n  border-radius: ",";\n  object-fit: cover;\n"]);return s=function(){return n},n}function f(){let n=(0,r.Z)(["\n  font-size: 24px;\n  color: #222121;\n  text-align: center;\n"]);return f=function(){return n},n}function a(){let n=(0,r.Z)(["\n  font-size: 24px;\n  color: #6c7a89;\n"]);return a=function(){return n},n}function x(){let n=(0,r.Z)(["\n  font-size: 20px;\n  color: #1d7abd;\n"]);return x=function(){return n},n}function h(){let n=(0,r.Z)(["\n  font-size: 20px;\n  color: #4f4f4f;\n  border: none;\n  background: none;\n  text-align: center;\n"]);return h=function(){return n},n}let p=d.ZP.div.withConfig({componentId:"sc-8c579864-0"})(u()),g=(0,d.ZP)(c()).withConfig({componentId:"sc-8c579864-1"})(s(),n=>n.isRectangle?"16px":"50%"),m=d.ZP.p.withConfig({componentId:"sc-8c579864-2"})(f()),j=d.ZP.p.withConfig({componentId:"sc-8c579864-3"})(a()),v=d.ZP.p.withConfig({componentId:"sc-8c579864-4"})(x()),Z=(0,d.ZP)(l.HH).withConfig({componentId:"sc-8c579864-5"})(h());var w=t(89882);let b=n=>{let{phone:e,photo:t,names:r,age:o,jobTitle:c}=n;return(0,i.jsxs)(p,{children:[(0,i.jsx)(g,{src:t,alt:"profile image",width:130,height:130,isRectangle:"Гид"===c}),(0,i.jsx)(m,{children:r}),void 0!==o&&(0,i.jsx)(j,{children:"".concat(o," ").concat((0,w.$)(o,["год","года","лет"]))}),(0,i.jsx)(v,{children:c}),e&&(0,i.jsx)(Z,{format:"+# (###) ### ## ##",value:e})]})};var C=b},22865:function(n,e,t){"use strict";var i=t(85893);t(67294);var r=t(12918),o=t.n(r);let c=n=>{let{status:e,message:t}=n,r=(null==e?void 0:e.toString().startsWith("5"))?"Сервис недоступен":t;return(0,i.jsx)(o(),{title:r,statusCode:null!=e?e:500})};e.Z=c},46196:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nl}});var i=t(85893);t(67294);var r=t(79417),o=t(7297),c=t(186),l=t(42143);function d(){let n=(0,o.Z)(["\n    "]);return d=function(){return n},n}function u(){let n=(0,o.Z)(["\n    padding: 0;\n    ","\n  "]);return u=function(){return n},n}function s(){let n=(0,o.Z)(["\n  padding: 0 0 calc(34px - 1rem);\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  ","\n"]);return s=function(){return n},n}function f(){let n=(0,o.Z)(["\n    "]);return f=function(){return n},n}function a(){let n=(0,o.Z)(["\n    flex-direction: column;\n    ","\n  "]);return a=function(){return n},n}function x(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return x=function(){return n},n}function h(){let n=(0,o.Z)(["\n    flex-direction: column;\n    gap: 0;\n    align-items: center;\n  "]);return h=function(){return n},n}function p(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 10%;\n  ","\n"]);return p=function(){return n},n}function g(){let n=(0,o.Z)(["\n      width: 100%;\n    "]);return g=function(){return n},n}function m(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return m=function(){return n},n}function j(){let n=(0,o.Z)(["\n      align-self: normal;\n      flex-direction: column;\n      gap: 10px;\n    "]);return j=function(){return n},n}function v(){let n=(0,o.Z)(["\n    ","\n  "]);return v=function(){return n},n}function Z(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-self: flex-start;\n  margin-top: 30px;\n  gap: 24px;\n\n  ","\n"]);return Z=function(){return n},n}function w(){let n=(0,o.Z)(["\n    & > span {\n      & > h2 {\n        font-family: ",";\n        font-size: ",";\n        font-weight: 400;\n        line-height: 39px;\n        margin-bottom: 8px;\n      }\n      & > span {\n        font-family: ",";\n        font-size: ",";\n        font-weight: 400;\n      }\n    }\n  "]);return w=function(){return n},n}function b(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  gap: 10px;\n\n  ","\n"]);return b=function(){return n},n}function C(){let n=(0,o.Z)(["\n      flex-direction: column;\n    "]);return C=function(){return n},n}function y(){let n=(0,o.Z)(["\n    ","\n  "]);return y=function(){return n},n}function P(){let n=(0,o.Z)(["\n  display: flex;\n  gap: 24px;\n  align-items: center;\n  padding-top: 20px;\n  padding-bottom: 20px;\n\n  ","\n"]);return P=function(){return n},n}function I(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  width: 100%;\n"]);return I=function(){return n},n}function k(){let n=(0,o.Z)(["\n  font-weight: 400;\n  font-size: 24px;\n  line-height: 27px;\n  color: #222121;\n"]);return k=function(){return n},n}function _(){let n=(0,o.Z)(["\n  font-size: 20px;\n  line-height: 23px;\n  color: #4f4f4f;\n"]);return _=function(){return n},n}function z(){let n=(0,o.Z)(["\n  height: 2px;\n  background: #8daec1;\n"]);return z=function(){return n},n}function N(){let n=(0,o.Z)(["\n  width: auto;\n  white-space: nowrap;\n  font-size: 24px;\n  color: #eb5757;\n  border-color: #eb5757;\n\n  &:hover {\n    background: rgba(235, 87, 87, 0.3);\n  }\n\n  &:active {\n    background: #fff;\n    color: #eb5757;\n  }\n"]);return N=function(){return n},n}let E=c.ZP.div.withConfig({componentId:"sc-94d33d42-0"})(s(),n=>{let{theme:e}=n;return e.media.down("sm")(u(),e.media.down("xs")(d()))}),T=c.ZP.div.withConfig({componentId:"sc-94d33d42-1"})(x(),n=>{let{theme:e}=n;return e.media.down("md")(a(),e.media.down("sm")(f()))}),O=c.ZP.div.withConfig({componentId:"sc-94d33d42-2"})(p(),n=>{let{theme:e}=n;return e.media.down("md")(h())}),M=c.ZP.div.withConfig({componentId:"sc-94d33d42-3"})(m(),n=>{let{$fullWidth:e}=n;return e&&(0,c.iv)(g())}),R=c.ZP.div.withConfig({componentId:"sc-94d33d42-4"})(Z(),n=>{let{theme:e}=n;return(0,c.iv)(v(),e.media.down("md")(j()))}),D=c.ZP.div.withConfig({componentId:"sc-94d33d42-5"})(b(),n=>{let{theme:e}=n;return(0,c.iv)(w(),e.font.family.gothicMedium,e.font.size.heading2,e.font.family.gothicBook,e.font.size.subtitle5)}),S=c.ZP.div.withConfig({componentId:"sc-94d33d42-6"})(P(),n=>{let{theme:e}=n;return(0,c.iv)(y(),e.media.down("md")(C()))}),W=c.ZP.div.withConfig({componentId:"sc-94d33d42-7"})(I()),Y=c.ZP.h6.withConfig({componentId:"sc-94d33d42-8"})(k()),A=c.ZP.p.withConfig({componentId:"sc-94d33d42-9"})(_()),B=c.ZP.div.withConfig({componentId:"sc-94d33d42-10"})(z()),H=(0,c.ZP)(l.Z).withConfig({componentId:"sc-94d33d42-11"})(N());var L=t(11163),$=t(43180),F=t(9008),G=t.n(F),X=t(27030),q=t(65959),K=t(27484),J=t.n(K),Q=t(22865),U=t(49043),V=t(74037),nn=t(87295),ne=t(89882),nt=t(69398),ni=t(20293),nr=t(51949);let no=()=>{var n,e,t,o,c;let d=(0,L.useRouter)(),u=(0,nr.l)(),{id:s}=d.query,{data:f,isLoading:a,isError:x,error:h,refetch:p}=(0,$.tH)({id:Number(s)},{skip:!s}),[g,{isLoading:m}]=(0,$.ES)(),{isCancellationModalOpen:j,modalCancelButtonClickFunction:v,modalAcceptButtonClickFunction:Z,isLoadingCancel:w,onCancelButtonWithoutCalculatePenaltyClick:b}=(0,U.L)();if((0,nt.Z)(f,p),x){let{data:n}=h;return(0,i.jsx)(Q.Z,{status:null==n?void 0:n.status,message:null==n?void 0:n.message})}if(a||w||(null==f?void 0:f.data)==void 0||m)return(0,i.jsx)(q.Z,{showSpinner:!0});let{touristData:C,status:y,guideData:P,isCanBeCancelled:I}=f.data,k=[{url:"/control-panel",label:"Панель управления"},{url:"/control-panel/booking/guide/".concat(s),label:null!==(t=null==P?void 0:P.name)&&void 0!==t?t:"Бронирование"}],_=async n=>{try{let e=await g({id:n}).unwrap();e.success&&u("Вы успешно подтвердили бронирование","success"),p()}catch(n){console.error(n)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G(),{children:(0,i.jsxs)("title",{children:["Go2Kavkaz : Бронирование ",s]})}),(0,i.jsx)(V.W,{isOpen:j,closeButton:v,cancelBooking:Z,penaltyAmount:null}),(0,i.jsxs)(T,{children:[(0,i.jsxs)(O,{children:[(0,i.jsxs)(M,{$fullWidth:!0,children:[(0,i.jsx)(E,{children:(0,i.jsx)(r.Z,{paths:k})}),(0,i.jsxs)(D,{children:[(0,i.jsxs)("span",{children:[(0,i.jsx)("h2",{children:null==P?void 0:P.name}),(0,i.jsxs)("span",{children:["№ брони ",s]})]}),(0,i.jsx)(X.Z,{status:y,bordered:!0})]}),(0,i.jsxs)(S,{children:[(0,i.jsxs)(W,{children:[(0,i.jsx)(Y,{children:"Дата"}),(0,i.jsx)(A,{children:(null==P?void 0:P.guideDate)?J()(null==P?void 0:P.guideDate).format("DD MMMM YYYY"):null})]}),(0,i.jsxs)(W,{children:[(0,i.jsx)(Y,{children:"Время"}),(0,i.jsx)(A,{children:(null==P?void 0:P.guideTime)?null==P?void 0:P.guideTime:null})]}),(0,i.jsxs)(W,{children:[(0,i.jsx)(Y,{children:"Длительность"}),(0,i.jsx)(A,{children:(null==P?void 0:P.duration)&&"".concat(P.duration," ").concat((0,ne.$)(P.duration,["час","часа","часов"]))})]})]}),(0,i.jsx)(S,{children:(0,i.jsxs)(W,{children:[(0,i.jsx)(Y,{children:"Количество участников"}),(0,i.jsx)(A,{children:null==P?void 0:P.numberOfParticipants})]})}),(0,i.jsx)(B,{}),(0,i.jsx)(S,{children:(0,i.jsx)(Y,{children:"Данные гостя:"})}),(0,i.jsxs)(S,{children:[(0,i.jsxs)(W,{children:[(0,i.jsx)(Y,{children:"Имя"}),(0,i.jsx)(A,{children:C.firstName})]}),(0,i.jsxs)(W,{children:[(0,i.jsx)(Y,{children:"Фамилия"}),(0,i.jsx)(A,{children:C.lastName})]})]}),(0,i.jsxs)(S,{children:[(0,i.jsxs)(W,{children:[(0,i.jsx)(Y,{children:"Телефон"}),(0,i.jsxs)(A,{children:["+",C.phone]})]}),(0,i.jsxs)(W,{children:[(0,i.jsx)(Y,{children:"Электронная почта"}),(0,i.jsx)(A,{children:C.email})]})]}),(null==P?void 0:P.numberOfChildren)?(0,i.jsx)(S,{children:(0,i.jsxs)(W,{children:[(0,i.jsx)(Y,{children:"Дети до 7-ми лет"}),(0,i.jsx)(A,{children:null==P?void 0:P.numberOfChildren})]})}):null,C.comments&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B,{}),(0,i.jsx)(S,{children:(0,i.jsxs)(W,{children:[(0,i.jsx)(Y,{children:"Комментарий"}),(0,i.jsx)(A,{style:{whiteSpace:"pre-wrap"},children:C.comments})]})})]})]}),(0,i.jsx)(M,{children:(0,i.jsx)("div",{children:(0,i.jsx)(nn.Z,{photo:null!==(o=null==P?void 0:null===(n=P.guide)||void 0===n?void 0:n.avatar)&&void 0!==o?o:"",age:null==P?void 0:P.guide.age,names:null!==(c=null==P?void 0:null===(e=P.guide)||void 0===e?void 0:e.firstName)&&void 0!==c?c:"",jobTitle:"Гид"})})})]}),(0,i.jsxs)(R,{children:[y===ni.g.WAITING_PARTNER&&(0,i.jsx)(l.Z,{onClick:()=>s&&_(Number(s)),children:"Подтвердить"}),I&&(0,i.jsx)(H,{onClick:()=>s&&b(+s),children:"Отменить бронирование"})]})]})]})},nc=()=>(0,i.jsx)(no,{});var nl=nc},12918:function(n,e,t){n.exports=t(43499)}},function(n){n.O(0,[6216,9774,2888,179],function(){return n(n.s=59234)}),_N_E=n.O()}]);