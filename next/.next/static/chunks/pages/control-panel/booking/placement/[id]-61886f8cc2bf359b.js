(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[806],{44083:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/control-panel/booking/placement/[id]",function(){return e(54416)}])},22865:function(n,t,e){"use strict";var i=e(85893);e(67294);var r=e(12918),o=e.n(r);let c=n=>{let{status:t,message:e}=n,r=(null==t?void 0:t.toString().startsWith("5"))?"Сервис недоступен":e;return(0,i.jsx)(o(),{title:r,statusCode:null!=t?t:500})};t.Z=c},54416:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return nl}});var i=e(85893);e(67294);var r=e(79417),o=e(7297),c=e(186),l=e(42143);function u(){let n=(0,o.Z)(["\n    "]);return u=function(){return n},n}function d(){let n=(0,o.Z)(["\n    padding-bottom: 16px;\n    ","\n  "]);return d=function(){return n},n}function s(){let n=(0,o.Z)(["\n  padding-bottom: 32px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  ","\n"]);return s=function(){return n},n}function f(){let n=(0,o.Z)(["\n    "]);return f=function(){return n},n}function a(){let n=(0,o.Z)(["\n    flex-direction: column;\n    ","\n  "]);return a=function(){return n},n}function x(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return x=function(){return n},n}function h(){let n=(0,o.Z)(["\n    flex-direction: column;\n    gap: 0;\n    align-items: center;\n  "]);return h=function(){return n},n}function p(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 10%;\n  ","\n"]);return p=function(){return n},n}function m(){let n=(0,o.Z)(["\n      width: 100%;\n    "]);return m=function(){return n},n}function g(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"]);return g=function(){return n},n}function j(){let n=(0,o.Z)(["\n      flex-direction: column;\n      gap: 10px;\n    "]);return j=function(){return n},n}function w(){let n=(0,o.Z)(["\n    ","\n  "]);return w=function(){return n},n}function Z(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-top: 30px;\n\n  ","\n"]);return Z=function(){return n},n}function v(){let n=(0,o.Z)(["\n    & > span {\n      & > h2 {\n        font-family: ",";\n        font-size: ",";\n        font-weight: 400;\n        line-height: 39px;\n        margin-bottom: 8px;\n      }\n      & > span {\n        font-family: ",";\n        font-size: ",";\n        font-weight: 400;\n      }\n    }\n  "]);return v=function(){return n},n}function b(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  gap: 10px;\n\n  ","\n"]);return b=function(){return n},n}function C(){let n=(0,o.Z)(["\n      flex-direction: column;\n    "]);return C=function(){return n},n}function y(){let n=(0,o.Z)(["\n    ","\n  "]);return y=function(){return n},n}function P(){let n=(0,o.Z)(["\n  display: flex;\n  gap: 24px;\n  align-items: center;\n  padding-top: 32px;\n  padding-bottom: 32px;\n\n  ","\n"]);return P=function(){return n},n}function k(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  width: 100%;\n"]);return k=function(){return n},n}function I(){let n=(0,o.Z)(["\n  font-weight: 400;\n  font-size: 24px;\n  line-height: 27px;\n  color: #222121;\n"]);return I=function(){return n},n}function _(){let n=(0,o.Z)(["\n  font-size: 20px;\n  line-height: 23px;\n  color: #4f4f4f;\n"]);return _=function(){return n},n}function N(){let n=(0,o.Z)(["\n  height: 2px;\n  background: #8daec1;\n"]);return N=function(){return n},n}function z(){let n=(0,o.Z)(["\n      max-width: 275px;\n      border-radius: 20px;\n  "]);return z=function(){return n},n}function D(){let n=(0,o.Z)(["\n  max-width: 300px;\n  border-radius: 32px;\n  ","\n"]);return D=function(){return n},n}function Y(){let n=(0,o.Z)(["\n  width: auto;\n  white-space: nowrap;\n  font-size: 24px;\n  color: #eb5757;\n  border-color: #eb5757;\n\n  &:hover {\n    background: rgba(235, 87, 87, 0.3);\n  }\n\n  &:active {\n    background: #fff;\n    color: #eb5757;\n  }\n"]);return Y=function(){return n},n}function E(){let n=(0,o.Z)(["\n  width: auto;\n  white-space: nowrap;\n  font-size: 24px;\n"]);return E=function(){return n},n}let H=c.ZP.div.withConfig({componentId:"sc-6169cd0b-0"})(s(),n=>{let{theme:t}=n;return t.media.down("sm")(d(),t.media.down("xs")(u()))}),M=c.ZP.div.withConfig({componentId:"sc-6169cd0b-1"})(x(),n=>{let{theme:t}=n;return t.media.down("md")(a(),t.media.down("sm")(f()))}),T=c.ZP.div.withConfig({componentId:"sc-6169cd0b-2"})(p(),n=>{let{theme:t}=n;return t.media.down("md")(h())}),B=c.ZP.div.withConfig({componentId:"sc-6169cd0b-3"})(g(),n=>{let{$fullWidth:t}=n;return t&&(0,c.iv)(m())}),S=c.ZP.div.withConfig({componentId:"sc-6169cd0b-4"})(Z(),n=>{let{theme:t}=n;return(0,c.iv)(w(),t.media.down("md")(j()))}),A=c.ZP.div.withConfig({componentId:"sc-6169cd0b-5"})(b(),n=>{let{theme:t}=n;return(0,c.iv)(v(),t.font.family.gothicMedium,t.font.size.heading2,t.font.family.gothicBook,t.font.size.subtitle5)}),F=c.ZP.div.withConfig({componentId:"sc-6169cd0b-6"})(P(),n=>{let{theme:t}=n;return(0,c.iv)(y(),t.media.down("md")(C()))}),O=c.ZP.div.withConfig({componentId:"sc-6169cd0b-7"})(k()),W=c.ZP.h6.withConfig({componentId:"sc-6169cd0b-8"})(I()),L=c.ZP.p.withConfig({componentId:"sc-6169cd0b-9"})(_()),X=c.ZP.div.withConfig({componentId:"sc-6169cd0b-10"})(N()),q=c.ZP.img.withConfig({componentId:"sc-6169cd0b-11"})(D(),n=>{let{theme:t}=n;return t.media.down("xs")(z())}),G=(0,c.ZP)(l.Z).withConfig({componentId:"sc-6169cd0b-12"})(Y());(0,c.ZP)(l.Z).withConfig({componentId:"sc-6169cd0b-13"})(E());var K=e(11163),R=e(43180),$=e(9008),J=e.n($),Q=e(27030),U=e(65959),V=e(27484),nn=e.n(V),nt=e(22865),ne=e(49043),ni=e(74037),nr=e(69398);let no=()=>{var n,t,e,o,c,l,u;let d=(0,K.useRouter)(),{id:s}=d.query,{data:f,isLoading:a,isError:x,error:h,refetch:p}=(0,R.tH)({id:Number(s)},{skip:!s}),{isCancellationModalOpen:m,modalCancelButtonClickFunction:g,modalAcceptButtonClickFunction:j,penaltyAmount:w,onCancelButtonClick:Z,isCalculatePenaltyLoading:v,isLoadingCancel:b}=(0,ne.L)();if((0,nr.Z)(f,p),x){let{data:n}=h;return(0,i.jsx)(nt.Z,{status:null==n?void 0:n.status,message:null==n?void 0:n.message})}if(a||b||v||(null==f?void 0:f.data)==void 0)return(0,i.jsx)(U.Z,{showSpinner:!0});let{bookingNumber:C,touristData:y,placementData:P,status:k,isCanBeCancelled:I}=f.data,_=null==P?void 0:null===(n=P.images)||void 0===n?void 0:n[0],N=null==P?void 0:null===(t=P.roomStays)||void 0===t?void 0:t[0],z=[{url:"/control-panel",label:"Панель управления"},{label:"Бронирования"},{url:"/control-panel/booking/placement/".concat(s),label:null!==(l=null==P?void 0:P.name)&&void 0!==l?l:"Бронирование"}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(J(),{children:(0,i.jsxs)("title",{children:["Go2Kavkaz : Бронирование ",C]})}),(0,i.jsx)(ni.W,{isOpen:m,closeButton:g,cancelBooking:j,penaltyAmount:w}),(0,i.jsxs)(M,{children:[(0,i.jsxs)(T,{children:[(0,i.jsxs)(B,{$fullWidth:!0,children:[(0,i.jsx)(H,{children:(0,i.jsx)(r.Z,{paths:z})}),(0,i.jsxs)(A,{children:[(0,i.jsxs)("span",{children:[(0,i.jsxs)("h2",{children:[y.lastName," ",y.firstName,(null==y?void 0:y.middleName)?" ".concat(y.middleName):""]}),(0,i.jsxs)("span",{children:["№ брони ",C]})]}),(0,i.jsx)(Q.Z,{status:k,bordered:!0})]}),(0,i.jsxs)(F,{children:[(0,i.jsxs)(O,{children:[(0,i.jsx)(W,{children:"Контактный телефон"}),(0,i.jsx)(L,{children:null==y?void 0:y.phone})]}),(0,i.jsxs)(O,{children:[(0,i.jsx)(W,{children:"Электронная почта"}),(0,i.jsx)(L,{children:y.email})]})]}),N&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(X,{}),(0,i.jsxs)(F,{children:[(0,i.jsxs)(O,{children:[(0,i.jsx)(W,{children:"Дата заезда"}),(0,i.jsx)(L,{children:nn()(N.stayDates.arrivalDateTime).format("DD.MM.YYYY HH:mm")})]}),(0,i.jsxs)(O,{children:[(0,i.jsx)(W,{children:"Дата выезда"}),(0,i.jsx)(L,{children:nn()(N.stayDates.departureDateTime).format("DD.MM.YYYY HH:mm")})]}),(0,i.jsxs)(O,{children:[(0,i.jsx)(W,{children:"Количество гостей"}),(0,i.jsxs)(L,{children:["Взрослых: ",N.guestCount.adultCount,(null!==(u=null===(e=N.guestCount.childAges)||void 0===e?void 0:e.length)&&void 0!==u?u:0)>0?", Детей: ".concat(null===(o=N.guestCount.childAges)||void 0===o?void 0:o.length):""]})]})]}),(0,i.jsx)(F,{children:(0,i.jsxs)(O,{children:[(0,i.jsx)(W,{children:"Сумма"}),(0,i.jsx)(L,{children:null==N?void 0:null===(c=N.total)||void 0===c?void 0:c.priceBeforeTax})]})}),y.comments&&(0,i.jsx)(F,{children:(0,i.jsxs)(O,{children:[(0,i.jsx)(W,{children:"Комментарий"}),(0,i.jsx)(L,{style:{whiteSpace:"pre-wrap"},children:y.comments})]})})]})]}),(0,i.jsx)(B,{children:(0,i.jsx)(q,{src:_})})]}),(0,i.jsx)(S,{children:I&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(G,{onClick:()=>s&&Z(+s),children:"Отменить бронирование"})})})]})]})},nc=()=>(0,i.jsx)(no,{});var nl=nc},12918:function(n,t,e){n.exports=e(43499)}},function(n){n.O(0,[6216,9774,2888,179],function(){return n(n.s=44083)}),_N_E=n.O()}]);