(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1981],{68820:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/placement",function(){return e(6160)}])},38181:function(n,t,e){"use strict";var i=e(5152),r=e.n(i);let o=r()(()=>Promise.all([e.e(9269),e.e(4740),e.e(1821)]).then(e.bind(e,64740)),{loadableGenerated:{webpack:()=>[64740]},ssr:!1});t.Z=o},40059:function(n,t,e){"use strict";e.d(t,{k:function(){return i}});let i=[{value:"0",title:"0 лет"},{value:"1",title:"1 год"},{value:"2",title:"2 года"},{value:"3",title:"3 года"},{value:"4",title:"4 года"},{value:"5",title:"5 лет"},{value:"6",title:"6 лет"},{value:"7",title:"7 лет"},{value:"8",title:"8 лет"},{value:"9",title:"9 лет"},{value:"10",title:"10 лет"},{value:"11",title:"11 лет"},{value:"12",title:"12 лет"},{value:"13",title:"13 лет"},{value:"14",title:"14 лет"},{value:"15",title:"15 лет"},{value:"16",title:"16 лет"},{value:"17",title:"17 лет"}]},51527:function(n,t,e){"use strict";var i=e(85893);e(67294);let r=n=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...n,children:(0,i.jsx)("path",{fill:"#0071C2",d:"M13.5 8.5h-11a.5.5 0 1 1 0-1h11a.5.5 0 0 1 0 1Z"})});t.Z=r},51489:function(n,t,e){"use strict";var i=e(85893);e(67294);let r=n=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...n,children:(0,i.jsx)("path",{fill:"#0071C2",d:"M13.5 7.5h-5v-5a.5.5 0 1 0-1 0v5h-5a.5.5 0 1 0 0 1h5v5a.5.5 0 0 0 1 0v-5h5a.5.5 0 0 0 0-1Z"})});t.Z=r},16812:function(n,t,e){"use strict";e.d(t,{x:function(){return s}});var i=e(67294),r=e(57441),o=e(11163),l=e(82741),u=e(27484),c=e.n(u),a=e(96894);let s=()=>{let n=(0,r.T)(),t=(0,o.useRouter)(),e=(0,r.C)(l.N$);(0,i.useEffect)(()=>{let{numOfAdult:i,cityId:r,childAges:o,placementType:u,rating:s,offset:d,roomId:f,ratePlanId:m,specialOffer:h,breakfast:p,amenityCodes:x}=t.query,{arrivalDate:g,departureDate:v}=t.query;c()(g).format(a.K_)<c()().format(a.K_)&&(g=c()().format(a.K_),v=c()().add(1,"day").format(a.K_)),n((0,l.hL)({arrivalDate:g?String(g):e.arrivalDate,departureDate:v?String(v):e.departureDate,cityId:r&&"null"!==r?String(r):e.cityId,rating:"true"===s,numOfAdult:i?Number(i):e.numOfAdult,childAges:o?Array.isArray(o)?o:[o]:e.childAges,offset:d?Number(d):e.offset,roomId:f?Number(f):e.roomId,ratePlanId:m?Number(m):e.ratePlanId,popular:e.popular&&!e.cityId,specialOffer:"true"===h,breakfast:"true"===p,amenityCodes:x?x.split(","):[]}))},[t])}},6160:function(n,t,e){"use strict";e.r(t),e.d(t,{__N_SSP:function(){return nI},default:function(){return nN}});var i=e(85893),r=e(67294),o=e(27982),l=e(43060),u=e(79417),c=e(40152),a=e(80514),s=e(34443),d=e(7297),f=e(186);function m(){let n=(0,d.Z)(["\n      margin: 24px 0 0;\n      flex-direction: column;\n      align-self: flex-start;\n      font-weight: 400;\n      font-size: ",";\n    "]);return m=function(){return n},n}function h(){let n=(0,d.Z)(["\n    font-size: ",";\n    font-weight: ",";\n    color: ",";\n    font-family: "," ",";\n  "]);return h=function(){return n},n}function p(){let n=(0,d.Z)(["\n  ","\n"]);return p=function(){return n},n}function x(){let n=(0,d.Z)(["\n    flex-direction: column;\n  "]);return x=function(){return n},n}function g(){let n=(0,d.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  gap: 20px;\n  padding-bottom: 8px;\n  align-items: center;\n\n  ","\n"]);return g=function(){return n},n}let v=f.ZP.h2.withConfig({componentId:"sc-d85097e6-0"})(p(),n=>{let{theme:t}=n;return(0,f.iv)(h(),t.font.size.heading3,t.font.weight.regular,t.colors.default,t.font.family.gothicMedium,t.media.down("xs")(m(),t.font.size.subtitle1))}),w=f.ZP.div.withConfig({componentId:"sc-d85097e6-1"})(g(),n=>{let{theme:t}=n;return t.media.down("xs")(x())});var Z=e(91591),y=e(89882);let b=n=>{let{city:t,count:e,mapOpenFn:r,isMapOpened:o}=n,l=(0,c.Z)("(max-width: ".concat(a.AV.md,"px)"));return(0,i.jsxs)(w,{children:[(0,i.jsx)(v,{children:"".concat(t,": ").concat((0,y.$)(Number(e),["найден","найдено","найдено"])," ").concat(e," ").concat((0,y.$)(Number(e),["вариант","варианта","вариантов"]))}),l&&(0,i.jsx)(Z.Z,{isMapOpened:o,mapOpenFn:r,isLink:!1})]})};var j=e(25675),P=e.n(j),C=e(41664),k=e.n(C),I=e(24570);function N(){let n=(0,d.Z)(["\n    flex-direction: column;\n    border-radius: 16px;\n    padding: 16px;\n    min-height: 361px;\n    max-height: unset;\n  "]);return N=function(){return n},n}function _(){let n=(0,d.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  gap: 24px;\n  border: 1px solid #c8c8c8;\n  border-radius: 32px;\n  padding: 16px 16px 80px 16px;\n  cursor: pointer;\n\n  position: relative;\n  min-height: 348px;\n  max-height: 400px;\n  ","\n"]);return _=function(){return n},n}function z(){let n=(0,d.Z)(["\n    height: 156px;\n    width: 100%;\n    max-width: 100%;\n  "]);return z=function(){return n},n}function M(){let n=(0,d.Z)(["\n  width: 100%;\n  min-width: 160px;\n  max-width: 260px;\n  aspect-ratio: 1;\n  position: relative;\n  display: block;\n  align-items: center;\n\n  ","\n"]);return M=function(){return n},n}function S(){let n=(0,d.Z)(["\n    border-radius: 16px;\n  "]);return S=function(){return n},n}function q(){let n=(0,d.Z)(["\n  border-radius: 32px;\n  object-fit: cover;\n\n  ","\n"]);return q=function(){return n},n}function D(){let n=(0,d.Z)(["\n    height: unset \n  "]);return D=function(){return n},n}function A(){let n=(0,d.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n\n  ","\n"]);return A=function(){return n},n}function O(){let n=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: inherit;\n"]);return O=function(){return n},n}function E(){let n=(0,d.Z)(["\n  height: 2px;\n  width: 100%;\n  background-color: ",";\n"]);return E=function(){return n},n}function F(){let n=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]);return F=function(){return n},n}function $(){let n=(0,d.Z)(["\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return $=function(){return n},n}function B(){let n=(0,d.Z)(["\n  ",";\n"]);return B=function(){return n},n}function K(){let n=(0,d.Z)(["\n    color: ",";\n    font-family: ",";\n  "]);return K=function(){return n},n}function L(){let n=(0,d.Z)(["\n  padding: 0 4px;\n  ",";\n"]);return L=function(){return n},n}function R(){let n=(0,d.Z)(["\n  ",";\n"]);return R=function(){return n},n}function T(){let n=(0,d.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return T=function(){return n},n}function G(){let n=(0,d.Z)(["\n  white-space: pre-line;\n  ",";\n\n  display: -webkit-box;\n  -webkit-line-clamp: ",";\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return G=function(){return n},n}function V(){let n=(0,d.Z)(["\n    position: absolute;\n    bottom: 16px;\n    right: 16px;\n  "]);return V=function(){return n},n}function X(){let n=(0,d.Z)(["\n      width: 100%;\n      font-size: ",";\n      font-family: ",";\n    "]);return X=function(){return n},n}function H(){let n=(0,d.Z)(["\n    &:hover {\n      background: #c6e1f3;\n      color: #1d7abd;\n    }\n    color: ",";\n    font-size: ",";\n    background: ",";\n    font-family: ",";\n\n    ","\n  "]);return H=function(){return n},n}function J(){let n=(0,d.Z)(["\n  display: flex;\n  align-self: flex-end;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 16px;\n  float: right;\n  padding: 8px 16px;\n  width: fit-content;\n  height: 40px;\n  gap: 8px;\n\n  ","\n\n  ","\n"]);return J=function(){return n},n}function Y(){let n=(0,d.Z)(["\n  transform: rotate(-90deg);\n"]);return Y=function(){return n},n}let Q=(0,f.ZP)(k()).withConfig({componentId:"sc-6832c686-0"})(_(),n=>{let{theme:t}=n;return t.media.down("sm")(N())}),U=f.ZP.div.withConfig({componentId:"sc-6832c686-1"})(M(),n=>{let{theme:t}=n;return t.media.down("sm")(z())}),W=(0,f.ZP)(P()).withConfig({componentId:"sc-6832c686-2"})(q(),n=>{let{theme:t}=n;return t.media.down("sm")(S())}),nn=f.ZP.div.withConfig({componentId:"sc-6832c686-3"})(A(),n=>{let{theme:t}=n;return t.media.down("sm")(D())}),nt=f.ZP.div.withConfig({componentId:"sc-6832c686-4"})(O()),ne=f.ZP.span.withConfig({componentId:"sc-6832c686-5"})(E(),n=>{let{theme:t}=n;return t.colors.primary}),ni=f.ZP.div.withConfig({componentId:"sc-6832c686-6"})(F()),nr=f.ZP.h3.withConfig({componentId:"sc-6832c686-7"})(B(),n=>{let{theme:t}=n;return(0,f.iv)($(),t.font.size.body2,t.font.weight.regular,t.font.family.gothicMedium)}),no=f.ZP.span.withConfig({componentId:"sc-6832c686-8"})(L(),n=>{let{theme:t}=n;return(0,f.iv)(K(),t.colors.primary,t.font.family.gothicMedium)}),nl=f.ZP.h3.withConfig({componentId:"sc-6832c686-9"})(R(),n=>{let{theme:t}=n;return"\n    font-size: ".concat(t.font.size.body2,";\n    font-weight: ").concat(t.font.weight.regular,";\n    font-family: ").concat(t.font.family.gothicBook,";\n  ")}),nu=f.ZP.p.withConfig({componentId:"sc-6832c686-10"})(G(),n=>{let{theme:t}=n;return(0,f.iv)(T(),t.colors.black,t.font.size.body2,t.font.weight.regular,t.font.family.gothicBook)},n=>n.lines||1),nc=(0,f.ZP)(k()).withConfig({componentId:"sc-6832c686-11"})(J(),n=>{let{theme:t}=n;return t.media.up("sm")(V())},n=>{let{theme:t}=n;return(0,f.iv)(H(),t.colors.white,t.font.size.body2,t.colors.primary,t.font.family.gothicDemi,t.media.down("sm")(X(),t.font.size.body1,t.font.family.gothicMedium))}),na=(0,f.ZP)(I.Z).withConfig({componentId:"sc-6832c686-12"})(Y());var ns=e(14281),nd=e(64468);let nf=n=>{var t;let{avatar:e,name:l,rating:u,address:a,description:s,extraData:d,link:f,onButtonClick:m}=n,h=(0,c.Z)("(max-width: 400px)"),[p,x]=(0,r.useState)(3),g=(0,r.useRef)(null),{numOfAdult:v,numOfChildren:w,numOfDay:Z,prices:b}=null!==(t=null==d?void 0:d.placementExtraData)&&void 0!==t?t:{},j=(0,y.$)(Z,["ночь","ночи","ночей"]),P=(0,y.$)(v,["взрослый","взрослых","взрослых"]),C=w>0?", ".concat(w," ").concat((0,y.$)(w,["ребенок","ребенка","детей"])):"",k="".concat(Z," ").concat(j,", ").concat(v," ").concat(P).concat(C),I=!b.maxPrice||b.minPrice===b.maxPrice;return(0,r.useEffect)(()=>{if(g.current){let n=g.current.getBoundingClientRect().height,t=Math.floor((250-n)/20);t>3&&x(t)}},[]),(0,i.jsxs)(Q,{href:f,passHref:!0,onClick:m,children:[(0,i.jsx)(U,{children:(0,i.jsx)(W,{src:e,layout:"fill",alt:"image"})}),(0,i.jsxs)(nn,{children:[(0,i.jsxs)(nt,{ref:g,children:[(0,i.jsx)(ns.Z,{name:l,rating:u}),(0,i.jsx)(o.u1,{children:a}),(0,i.jsx)(ne,{}),(0,i.jsxs)(ni,{children:[(0,i.jsxs)(nr,{children:["Стоимость номера от",(0,i.jsx)(no,{children:null==b?void 0:b.minPrice}),(0,nd.fd)(null==b?void 0:b.minPrice,I?null==b?void 0:b.currencyCode:void 0),I?null:(0,i.jsxs)(i.Fragment,{children:["\xa0до",(0,i.jsx)(no,{children:null==b?void 0:b.maxPrice}),(0,nd.fd)(null==b?void 0:b.maxPrice,null==b?void 0:b.currencyCode)]})]}),(0,i.jsx)(nl,{children:Z&&v?k:""})]})]}),(0,i.jsx)(nu,{lines:p,children:s})]}),(0,i.jsxs)(nc,{href:f,onClick:m,children:["Посмотреть варианты ",!h&&"размещения",(0,i.jsx)(na,{stroke:"white"})]})]})};var nm=e(38181),nh=e(15232),np=e(11163),nx=e(49836),ng=e(57441),nv=e(82741),nw=e(90756),nZ=e(88271);let ny=[{url:"/",label:"Главная"},{url:"/placement",label:"Результаты поиска"}],nb=n=>{let{data:t,totalCount:e,amenitiesData:d}=n,[f,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),x=(0,c.Z)("(max-width: ".concat(a.AV.md,"px)")),g=(0,ng.C)(nv.N$),v=(0,np.useRouter)(),{queriesString:w}=(0,nw.F)(g,nw.v.detail),Z=n=>{let t=(0,nx.z)({...g,offset:(n-1)*Number(v.query.limit||nd.np.limit)});v.push("/placement?".concat(t))},y=(0,r.useMemo)(()=>null==t?void 0:t.map(n=>({avatar:n.avatar,city:n.city,coordinate:n.coordinate,name:n.name,address:n.address,id:n.id})),[t]),j=()=>{m(n=>!n)},P=n=>{p(!1),v.push("/placement?".concat(n))},C=(0,r.useMemo)(()=>Math.floor(Number(v.query.offset||nd.np.offset)/Number(v.query.limit||nd.np.limit))+1,[v]),k=(0,r.useMemo)(()=>Math.ceil(Number(e)/Number(v.query.limit||nd.np.limit)),[v]),I=!!(v.query.cityId||v.query.popular);return(0,i.jsxs)(o.YF,{children:[(0,i.jsxs)(o.xJ,{children:[(0,i.jsx)(u.Z,{paths:ny}),x&&(0,i.jsx)(nh.Z,{onClick:()=>p(n=>!n),isActive:!h})]}),(0,i.jsxs)(o.FE,{isMain:!0,children:[!x&&(0,i.jsx)(o.xL,{children:(0,i.jsx)(l.Z,{amenitiesData:d,handler:P,locationForParamsString:nw.v.list,isMapOpened:f,handleMap:j,isLink:!1,isPlacement:!0})}),x&&h&&(0,i.jsx)(l.Z,{amenitiesData:d,handler:P,locationForParamsString:nw.v.list}),!h&&(0,i.jsxs)(o.z3,{children:[I&&t&&t.length>0&&(0,i.jsx)(b,{city:v.query.popular?"Популярное":t[0].city||"",count:e,isMapOpened:f,mapOpenFn:j}),f&&I&&(null==t?void 0:t.length)&&(0,i.jsx)(o.fk,{children:(0,i.jsx)(nm.Z,{markers:y,queries:w,linkTo:"placement"})}),!f&&I&&t&&t.length>0&&t.filter(n=>n.extraData).map(n=>(0,i.jsx)(nf,{...n,link:"/placement/".concat(n.id,"?").concat(w)},n.id)),!f&&(!I||!(null==t?void 0:t.length))&&(0,i.jsx)(o.vA,{children:(0,i.jsx)(nZ.Z,{title:"Жилье не найдено",subtitle:"Попробуйте использовать другие настройки фильтров"})}),!f&&k>1&&I&&(0,i.jsx)(s.Z,{leftSideButtons:1,rightSideButtons:1,visiblePages:4,currentPage:C,totalPages:k,onPageChange:Z})]})]})]})};var nj=e(602),nP=e(9008),nC=e.n(nP);let nk=n=>{let{data:t,totalCount:e,errorData:r}=n;(0,nj.p)(r);let{data:o}=(0,nv.tu)(),l=(0,np.useRouter)(),u=null==o?void 0:o.data.cityList.find(n=>{var t;return n.id===+(null===(t=l.query)||void 0===t?void 0:t.cityId)});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nC(),{children:(0,i.jsxs)("title",{children:["Go2Kavkaz : Отели по направлению ",null==u?void 0:u.name]})}),(0,i.jsx)(nb,{data:null==t?void 0:t.data,totalCount:e,amenitiesData:null==t?void 0:t.amenitiesData})]})};var nI=!0,nN=nk}},function(n){n.O(0,[947,4612,7406,8664,867,8668,9774,2888,179],function(){return n(n.s=68820)}),_N_E=n.O()}]);