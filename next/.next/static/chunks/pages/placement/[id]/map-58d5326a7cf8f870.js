(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3879],{14124:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/placement/[id]/map",function(){return n(52982)}])},38181:function(e,t,n){"use strict";var r=n(5152),o=n.n(r);let i=o()(()=>Promise.all([n.e(9269),n.e(4740),n.e(1821)]).then(n.bind(n,64740)),{loadableGenerated:{webpack:()=>[64740]},ssr:!1});t.Z=i},34956:function(e,t,n){"use strict";var r=n(85893);n(67294);let o=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:10,height:20,fill:"none",...e,children:(0,r.jsx)("path",{stroke:e.stroke?e.stroke:"#222121",strokeLinecap:"round",strokeWidth:2,d:"m1 1 7.293 7.293a1 1 0 0 1 0 1.414L1 17"})});t.Z=o},16812:function(e,t,n){"use strict";n.d(t,{x:function(){return d}});var r=n(67294),o=n(57441),i=n(11163),u=n(82741),l=n(27484),a=n.n(l),s=n(96894);let d=()=>{let e=(0,o.T)(),t=(0,i.useRouter)(),n=(0,o.C)(u.N$);(0,r.useEffect)(()=>{let{numOfAdult:r,cityId:o,childAges:i,placementType:l,rating:d,offset:c,roomId:f,ratePlanId:p,specialOffer:m,breakfast:h,amenityCodes:g}=t.query,{arrivalDate:y,departureDate:x}=t.query;a()(y).format(s.K_)<a()().format(s.K_)&&(y=a()().format(s.K_),x=a()().add(1,"day").format(s.K_)),e((0,u.hL)({arrivalDate:y?String(y):n.arrivalDate,departureDate:x?String(x):n.departureDate,cityId:o&&"null"!==o?String(o):n.cityId,rating:"true"===d,numOfAdult:r?Number(r):n.numOfAdult,childAges:i?Array.isArray(i)?i:[i]:n.childAges,offset:c?Number(c):n.offset,roomId:f?Number(f):n.roomId,ratePlanId:p?Number(p):n.ratePlanId,popular:n.popular&&!n.cityId,specialOffer:"true"===m,breakfast:"true"===h,amenityCodes:g?g.split(","):[]}))},[t])}},88025:function(e,t,n){"use strict";n.d(t,{F8:function(){return m},G9:function(){return h},HK:function(){return p},PK:function(){return c},PM:function(){return y},Qw:function(){return g},TK:function(){return a},YE:function(){return d},mQ:function(){return x},px:function(){return f}});var r=n(49836),o=n(49305);let i=o.gk.injectEndpoints({endpoints:e=>({blockPlacement:e.mutation({query:e=>({url:"/placement/".concat(e,"/block"),method:"PUT"})}),unblockPlacement:e.mutation({query:e=>({url:"/placement/".concat(e,"/unblock"),method:"PUT"})}),deletePlacement:e.mutation({query:e=>({url:"/placement/".concat(e),method:"DELETE",body:e})}),getPartnerPlacements:e.query({query:e=>({url:"/placement?".concat(e)}),transformResponse:(e,t,n)=>{var r;return{...e,totalCount:(null==t?void 0:null===(r=t.response)||void 0===r?void 0:r.headers.get("X-TOTAL-COUNT"))||"1"}},providesTags:["Placements"],keepUnusedDataFor:0}),getBookingData:e.query({query:e=>({url:"/placement?".concat((0,r.z)(e))}),transformResponse:(e,t,n)=>{var r;return{data:e,totalCount:(null==t?void 0:null===(r=t.response)||void 0===r?void 0:r.headers.get("X-TOTAL-COUNT"))||"1"}},keepUnusedDataFor:0}),getDetailBookingData:e.query({query:e=>{let{id:t,urlQueries:n}=e;return{url:"/placement/".concat(t,"?").concat("string"!=typeof n?(0,r.z)(n):n)}}}),getSpecialOffer:e.query({query:()=>({url:"/placement?specialOffer=true"})}),bookCurrentRoom:e.mutation({query:e=>({url:"/booking/verify",method:"POST",body:e}),extraOptions:{name:"bookCurrentRoom"}}),getBookedListItems:e.query({query:e=>({url:"/booking?".concat(e)}),transformResponse:(e,t)=>{var n;return{...e,totalCount:(null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.headers.get("X-TOTAL-COUNT"))||"1"}},providesTags:["bookings"],keepUnusedDataFor:0}),getBookedExcursionGroupedItems:e.query({query:e=>({url:"/booking/excursion?".concat(e)}),transformResponse:(e,t)=>{var n;return{...e,totalCount:(null==t?void 0:null===(n=t.response)||void 0===n?void 0:n.headers.get("X-TOTAL-COUNT"))||"1"}},keepUnusedDataFor:0,providesTags:["bookings"]}),addPlacementById:e.mutation({query:e=>({url:"/placement",method:"POST",body:e}),invalidatesTags:["Placements"],extraOptions:{name:"addPlacement"}}),getBookingDataByAmenities:e.query({query:e=>({url:"/placement?".concat((0,r.z)(e))}),transformResponse:(e,t,n)=>{var r;return{data:e.data,totalCount:(null==t?void 0:null===(r=t.response)||void 0===r?void 0:r.headers.get("X-TOTAL-COUNT"))||"1",amenitiesData:e.amenitiesData}}}),addExcursionExternalPlaces:e.mutation({query:e=>({url:"/booking/excursion",method:"PUT",body:e})})}),overrideExisting:!0}),{endpoints:{getBookingData:u,getDetailBookingData:l}}=i,{useGetDetailBookingDataQuery:a,useGetSpecialOfferQuery:s,useBookCurrentRoomMutation:d,useGetBookedListItemsQuery:c,useAddPlacementByIdMutation:f,useGetPartnerPlacementsQuery:p,useDeletePlacementMutation:m,useUnblockPlacementMutation:h,useBlockPlacementMutation:g,useGetBookedExcursionGroupedItemsQuery:y,useAddExcursionExternalPlacesMutation:x,useGetBookingDataByAmenitiesQuery:b}=i},14281:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(85893);n(67294);var o=n(7297),i=n(44612),u=n(186);function l(){let e=(0,o.Z)(["\n  "]);return l=function(){return e},e}function a(){let e=(0,o.Z)(["\n  align-items: center;\n  display: inline-flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  column-gap: 16px;\n  row-gap: 4px;\n  ","\n"]);return a=function(){return e},e}function s(){let e=(0,o.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return s=function(){return e},e}function d(){let e=(0,o.Z)(["\n  display: inline-block;\n  text-align: left;\n  ",";\n"]);return d=function(){return e},e}function c(){let e=(0,o.Z)(["\n  display: inline-flex;\n  svg {\n    font-size: 32px;\n  }\n"]);return c=function(){return e},e}let f=u.ZP.p.withConfig({componentId:"sc-20ba3a6e-0"})(a(),e=>e.theme.media.down("xxs")(l())),p=u.ZP.span.withConfig({componentId:"sc-20ba3a6e-1"})(d(),e=>{let{theme:t}=e;return(0,u.iv)(s(),t.colors.primary,t.font.size.heading3,t.font.weight.regular,t.font.family.gothicDemi)}),m=(0,u.ZP)(i.Z).withConfig({componentId:"sc-20ba3a6e-2"})(c()),h=e=>{let{name:t,rating:n}=e;return(0,r.jsxs)(f,{children:[(0,r.jsx)(p,{children:t}),(0,r.jsx)(m,{name:"read-only",value:n,readOnly:!0,sx:{fontSize:"34px",color:"#F0CA2C"},emptyIcon:(0,r.jsx)(r.Fragment,{})})]})};var g=h},27982:function(e,t,n){"use strict";n.d(t,{FE:function(){return T},YF:function(){return P},fk:function(){return I},u1:function(){return N},vA:function(){return D},vO:function(){return j},xJ:function(){return C},xL:function(){return q},yr:function(){return O},z3:function(){return E}});var r=n(7297),o=n(186);function i(){let e=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 44px;\n"]);return i=function(){return e},e}function u(){let e=(0,r.Z)(["\n    "]);return u=function(){return e},e}function l(){let e=(0,r.Z)(["\n    padding-bottom: 16px;\n    ","\n  "]);return l=function(){return e},e}function a(){let e=(0,r.Z)(["\n  padding-bottom: 32px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  ","\n"]);return a=function(){return e},e}function s(){let e=(0,r.Z)(["\n    "]);return s=function(){return e},e}function d(){let e=(0,r.Z)(["\n    ","\n  "]);return d=function(){return e},e}function c(){let e=(0,r.Z)(["\n  display: flex;\n  gap: ","px;\n  flex-direction: row;\n  ","\n"]);return c=function(){return e},e}function f(){let e=(0,r.Z)(["\n    "]);return f=function(){return e},e}function p(){let e=(0,r.Z)(["\n    flex-direction: column;\n    ","\n  "]);return p=function(){return e},e}function m(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 32px;\n  ","\n"]);return m=function(){return e},e}function h(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return h=function(){return e},e}function g(){let e=(0,r.Z)(["\n      max-height: 600px;\n      min-height: 400px;\n  "]);return g=function(){return e},e}function y(){let e=(0,r.Z)(["\n  position: relative;\n  height: 600px;\n  ","\n"]);return y=function(){return e},e}function x(){let e=(0,r.Z)(["\n  width: 326px;\n"]);return x=function(){return e},e}function b(){let e=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  justify-content: space-around;\n"]);return b=function(){return e},e}function v(){let e=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  gap: 28px;\n"]);return v=function(){return e},e}function _(){let e=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: calc(100vh - 300px);\n"]);return _=function(){return e},e}function w(){let e=(0,r.Z)(["\n        font-size: ",";\n    "]);return w=function(){return e},e}function Z(){let e=(0,r.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    ",";\n  "]);return Z=function(){return e},e}function k(){let e=(0,r.Z)(["\n  ","\n"]);return k=function(){return e},e}let P=o.ZP.div.withConfig({componentId:"sc-733451de-0"})(i()),C=o.ZP.div.withConfig({componentId:"sc-733451de-1"})(a(),e=>{let{theme:t}=e;return t.media.down("sm")(l(),t.media.down("xs")(u()))}),T=o.ZP.div.withConfig({componentId:"sc-733451de-2"})(c(),e=>{let{isMain:t}=e;return t?"32":"24"},e=>{let{theme:t}=e;return t.media.down("md")(d(),t.media.down("sm")(s()))}),O=o.ZP.div.withConfig({componentId:"sc-733451de-3"})(m(),e=>{let{theme:t}=e;return t.media.down("md")(p(),t.media.down("sm")(f()))}),j=o.ZP.div.withConfig({componentId:"sc-733451de-4"})(h()),I=o.ZP.div.withConfig({componentId:"sc-733451de-5"})(y(),e=>{let{theme:t}=e;return t.media.down("md")(g())}),q=o.ZP.div.withConfig({componentId:"sc-733451de-6"})(x());o.ZP.div.withConfig({componentId:"sc-733451de-7"})(b());let E=o.ZP.div.withConfig({componentId:"sc-733451de-8"})(v()),D=o.ZP.div.withConfig({componentId:"sc-733451de-9"})(_()),N=o.ZP.h3.withConfig({componentId:"sc-733451de-10"})(k(),e=>{let{theme:t}=e;return(0,o.iv)(Z(),t.colors.primary,t.font.size.body2,t.font.weight.regular,t.media.down("xs")(w(),t.font.size.subtitle2))})},95677:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=i.default,o={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};e instanceof Promise?o.loader=()=>e:"function"==typeof e?o.loader=e:"object"==typeof e&&(o=r({},o,e)),o=r({},o,t);let a=o.loader,s=()=>null!=a?a().then(u):Promise.resolve(u(()=>null));return(o.loadableGenerated&&(o=r({},o,o.loadableGenerated),delete o.loadableGenerated),"boolean"!=typeof o.ssr||o.ssr)?n(r({},o,{loader:s})):(delete o.webpack,delete o.modules,l(n,o))},t.noSSR=l;var r=n(6495).Z,o=n(92648).Z,i=(o(n(67294)),o(n(8976)));function u(e){return{default:(null==e?void 0:e.default)||e}}function l(e,t){return delete t.webpack,delete t.modules,e(t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},92254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var r=(0,n(92648).Z)(n(67294));let o=r.default.createContext(null);t.LoadableContext=o},8976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(6495).Z,o=(0,n(92648).Z)(n(67294)),i=n(92254);let u=[],l=[],a=!1;function s(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}class d{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=r({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),r=null;function u(){if(!r){let t=new d(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!a){let e=n.webpack?n.webpack():n.modules;e&&l.push(t=>{for(let n of e)if(-1!==t.indexOf(n))return u()})}function s(e,t){!function(){u();let e=o.default.useContext(i.LoadableContext);e&&Array.isArray(n.modules)&&n.modules.forEach(t=>{e(t)})}();let l=o.default.useSyncExternalStore(r.subscribe,r.getCurrentValue,r.getCurrentValue);return o.default.useImperativeHandle(t,()=>({retry:r.retry}),[]),o.default.useMemo(()=>{var t;return l.loading||l.error?o.default.createElement(n.loading,{isLoading:l.loading,pastDelay:l.pastDelay,timedOut:l.timedOut,error:l.error,retry:r.retry}):l.loaded?o.default.createElement((t=l.loaded)&&t.default?t.default:t,e):null},[e,l])}return s.preload=()=>u(),s.displayName="LoadableComponent",o.default.forwardRef(s)}(s,e)}function f(e,t){let n=[];for(;e.length;){let r=e.pop();n.push(r(t))}return Promise.all(n).then(()=>{if(e.length)return f(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{f(u).then(e,t)}),c.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let n=()=>(a=!0,t());f(l,e).then(n,n)})},window.__NEXT_PRELOADREADY=c.preloadReady,t.default=c},52982:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(85893);n(67294);var o=n(27982),i=n(79417),u=n(57441),l=n(11163),a=n(38181),s=n(14281),d=n(57434),c=n(7297),f=n(186);function p(){let e=(0,c.Z)([""]);return p=function(){return e},e}function m(){let e=(0,c.Z)(["\n  margin-top: 24px;\n  height: 60vh;\n"]);return m=function(){return e},e}let h=(0,f.ZP)(d.mj).withConfig({componentId:"sc-804de14c-0"})(p()),g=(0,f.ZP)(o.fk).withConfig({componentId:"sc-804de14c-1"})(m());var y=n(82741),x=n(90756),b=n(16812),v=n(88025),_=n(65959);let w=()=>{(0,b.x)();let e=(0,l.useRouter)(),{id:t}=e.query,n=(0,u.C)(y.N$),{queriesString:c}=(0,x.F)(n,x.v.list),{queriesString:f}=(0,x.F)(n,x.v.detail),{data:p}=(0,v.TK)({id:Number(t),urlQueries:f},{skip:!t});if(!p)return(0,r.jsx)(_.Z,{showSpinner:!0});let{name:m,coordinate:w,rating:Z,address:k,images:P,city:C}=p.data,T=[{url:"/",label:"Главная"},{url:"/placement?".concat(c),label:"Результаты поиска"},{url:"/placement/".concat(t,"?").concat(f),label:m},{url:"/placement/".concat(e.query.id,"/map"),label:"На карте"}];return(0,r.jsxs)(o.YF,{children:[(0,r.jsx)(o.xJ,{children:(0,r.jsx)(i.Z,{paths:T})}),(0,r.jsxs)(h,{children:[(0,r.jsxs)(d.$L,{children:[(0,r.jsx)(s.Z,{name:m,rating:Z}),(0,r.jsx)(o.u1,{children:k})]}),(0,r.jsx)(o.z3,{}),(0,r.jsx)(g,{children:(0,r.jsx)(a.Z,{markers:[{city:C,avatar:P[0],name:m,address:k,id:Number(t),coordinate:w}],linkTo:"placement",queries:f})})]})]})},Z=()=>(0,r.jsx)(w,{});var k=Z},5152:function(e,t,n){e.exports=n(95677)}},function(e){e.O(0,[4612,4493,9774,2888,179],function(){return e(e.s=14124)}),_N_E=e.O()}]);