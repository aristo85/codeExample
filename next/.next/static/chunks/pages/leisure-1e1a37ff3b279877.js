(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3765],{93412:function(n,e,t){"use strict";var r=t(64836);e.Z=void 0;var i=r(t(64938)),o=t(85893),l=(0,i.default)((0,o.jsx)("path",{d:"m14 7-5 5 5 5V7z"}),"ArrowLeft");e.Z=l},21596:function(n,e,t){"use strict";var r=t(64836);e.Z=void 0;var i=r(t(64938)),o=t(85893),l=(0,i.default)((0,o.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");e.Z=l},98396:function(n,e,t){"use strict";t.d(e,{Z:function(){return s}});var r,i=t(67294),o=t(34168),l=t(20539),u=t(58974);function c(n,e,t,r,o){let[l,c]=i.useState(()=>o&&t?t(n).matches:r?r(n).matches:e);return(0,u.Z)(()=>{let e=!0;if(!t)return;let r=t(n),i=()=>{e&&c(r.matches)};return i(),r.addListener(i),()=>{e=!1,r.removeListener(i)}},[n,t]),l}let a=(r||(r=t.t(i,2))).useSyncExternalStore;function d(n,e,t,r,o){let l=i.useCallback(()=>e,[e]),u=i.useMemo(()=>{if(o&&t)return()=>t(n).matches;if(null!==r){let{matches:e}=r(n);return()=>e}return l},[l,n,r,o,t]),[c,d]=i.useMemo(()=>{if(null===t)return[l,()=>()=>{}];let e=t(n);return[()=>e.matches,n=>(e.addListener(n),()=>{e.removeListener(n)})]},[l,t,n]),s=a(d,c,u);return s}function s(n,e={}){let t=(0,o.Z)(),r="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:i=!1,matchMedia:u=r?window.matchMedia:null,ssrMatchMedia:s=null,noSsr:f=!1}=(0,l.Z)({name:"MuiUseMediaQuery",props:e,theme:t}),h="function"==typeof n?n(t):n;h=h.replace(/^@media( ?)/m,"");let p=(void 0!==a?d:c)(h,i,u,s,f);return p}},78671:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leisure",function(){return t(77343)}])},1814:function(n,e,t){"use strict";t.d(e,{Z:function(){return W}});var r=t(85893);t(67294);var i=t(7297),o=t(186),l=t(25675),u=t.n(l),c=t(24570),a=t(41664),d=t.n(a);function s(){let n=(0,i.Z)(["\n    flex-direction: column;\n    border-radius: 16px;\n  "]);return s=function(){return n},n}function f(){let n=(0,i.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  gap: 24px;\n  border: 1px solid #c8c8c8;\n  padding: 16px;\n  align-items: flex-start;\n  border-radius: 32px;\n  cursor: pointer;\n\n  ","\n"]);return f=function(){return n},n}function h(){let n=(0,i.Z)(["\n    height: 156px;\n    width: 100%;\n  "]);return h=function(){return n},n}function p(){let n=(0,i.Z)(["\n  min-width: 220px;\n  height: 200px;\n  position: relative;\n  display: block;\n  align-items: center;\n\n  ","\n"]);return p=function(){return n},n}function x(){let n=(0,i.Z)(["\n  border-radius: 32px;\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n  aspect-ratio: attr(width) / attr(height);\n"]);return x=function(){return n},n}function m(){let n=(0,i.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]);return m=function(){return n},n}function g(){let n=(0,i.Z)(["\n  height: 1px;\n  width: 100%;\n  background-color: ",";\n"]);return g=function(){return n},n}function v(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]);return v=function(){return n},n}function w(){let n=(0,i.Z)(["\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return w=function(){return n},n}function Z(){let n=(0,i.Z)(["\n  ",";\n"]);return Z=function(){return n},n}function C(){let n=(0,i.Z)(["\n    color: ",";\n    font-family: ",";\n  "]);return C=function(){return n},n}function y(){let n=(0,i.Z)(["\n  padding: 0 4px;\n  ",";\n"]);return y=function(){return n},n}function b(){let n=(0,i.Z)(["\n  ",";\n"]);return b=function(){return n},n}function j(){let n=(0,i.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return j=function(){return n},n}function I(){let n=(0,i.Z)(["\n  ",";\n"]);return I=function(){return n},n}function P(){let n=(0,i.Z)(["\n      width: 100%;\n    "]);return P=function(){return n},n}function k(){let n=(0,i.Z)(["\n    &:hover {\n      background: #c6e1f3;\n      color: #1d7abd;\n    }\n    color: ",";\n    font-size: ",";\n    background: ",";\n    font-family: ",";\n\n    ","\n  "]);return k=function(){return n},n}function T(){let n=(0,i.Z)(["\n  display: flex;\n  align-self: flex-end;\n  flex-direction: row;\n  gap: 16px;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px 24px;\n  height: 56px;\n  border-radius: 16px;\n  float: right;\n\n  ","\n"]);return T=function(){return n},n}function z(){let n=(0,i.Z)(["\n  transform: rotate(-90deg);\n"]);return z=function(){return n},n}function D(){let n=(0,i.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return D=function(){return n},n}function U(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  ",";\n"]);return U=function(){return n},n}function O(){let n=(0,i.Z)(["\n        font-size: ",";\n    "]);return O=function(){return n},n}function M(){let n=(0,i.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    ",";\n  "]);return M=function(){return n},n}function R(){let n=(0,i.Z)(["\n  ","\n"]);return R=function(){return n},n}let E=(0,o.ZP)(d()).withConfig({componentId:"sc-1a47bad8-0"})(f(),n=>{let{theme:e}=n;return e.media.down("sm")(s())}),N=o.ZP.div.withConfig({componentId:"sc-1a47bad8-1"})(p(),n=>{let{theme:e}=n;return e.media.down("sm")(h())}),L=(0,o.ZP)(u()).withConfig({componentId:"sc-1a47bad8-2"})(x()),S=o.ZP.div.withConfig({componentId:"sc-1a47bad8-3"})(m()),_=o.ZP.span.withConfig({componentId:"sc-1a47bad8-4"})(g(),n=>{let{theme:e}=n;return e.colors.primary}),F=o.ZP.div.withConfig({componentId:"sc-1a47bad8-5"})(v()),V=o.ZP.h3.withConfig({componentId:"sc-1a47bad8-6"})(Z(),n=>{let{theme:e}=n;return(0,o.iv)(w(),e.font.size.body2,e.font.weight.regular,e.font.family.gothicDemi)}),A=o.ZP.span.withConfig({componentId:"sc-1a47bad8-7"})(y(),n=>{let{theme:e}=n;return(0,o.iv)(C(),e.colors.primary,e.font.family.gothicDemi)}),B=o.ZP.h3.withConfig({componentId:"sc-1a47bad8-8"})(b(),n=>{let{theme:e}=n;return"\n    font-size: ".concat(e.font.size.body2,";\n    font-weight: ").concat(e.font.weight.regular,";\n    color: #4f4f4f;\n    ")}),G=o.ZP.p.withConfig({componentId:"sc-1a47bad8-9"})(I(),n=>{let{theme:e}=n;return(0,o.iv)(j(),e.colors.black,e.font.size.body2,e.font.weight.regular,e.font.family.gothicBook)}),K=o.ZP.a.withConfig({componentId:"sc-1a47bad8-10"})(T(),n=>{let{theme:e}=n;return(0,o.iv)(k(),e.colors.white,e.font.size.subtitle2,e.colors.primary,e.font.family.gothicDemi,e.media.down("sm")(P()))}),X=(0,o.ZP)(c.Z).withConfig({componentId:"sc-1a47bad8-11"})(z()),q=o.ZP.h2.withConfig({componentId:"sc-1a47bad8-12"})(U(),n=>{let{theme:e}=n;return(0,o.iv)(D(),e.colors.primary,e.font.size.heading2,e.font.weight.regular,e.font.family.gothicDemi)}),Q=o.ZP.h3.withConfig({componentId:"sc-1a47bad8-13"})(R(),n=>{let{theme:e}=n;return(0,o.iv)(M(),e.colors.primary,e.font.size.body2,e.font.weight.regular,e.media.down("xs")(O(),e.font.size.subtitle2))});var H=t(64468),Y=t(89882),$=t(30838);let J=n=>{let{name:e,description:t,link:i,mainPhotoUrl:o,cityName:l,adultPrice:u,childrenPrice:c,duration:a,withChildren:s,type:f}=n;return(0,r.jsxs)(E,{href:i,passHref:!0,children:[(0,r.jsx)(N,{children:(0,r.jsx)(L,{src:o,layout:"fill",alt:"image"})}),(0,r.jsxs)(S,{children:[(0,r.jsx)(q,{children:e}),(0,r.jsx)(Q,{children:l}),(0,r.jsx)(_,{}),(0,r.jsxs)(F,{children:[(0,r.jsxs)(V,{children:["Стоимость",(0,r.jsx)(A,{children:u}),"".concat((0,H.fd)(u,H.Tl.rubles),"."),f&&f===$.CN.GROUP&&s&&c&&(0,r.jsxs)(r.Fragment,{children:[" Детский",(0,r.jsx)(A,{children:c}),"".concat((0,H.fd)(c,H.Tl.rubles),".")]})]}),(0,r.jsx)(B,{children:"Продолжительность - ".concat(a," ").concat((0,Y.$)(a,["час","часа","часов"]))})]}),(0,r.jsx)(G,{children:t}),(0,r.jsx)(d(),{href:i,passHref:!0,children:(0,r.jsxs)(K,{children:["Подробнее",(0,r.jsx)(X,{stroke:"white"})]})})]})]})};var W=J},96869:function(n,e,t){"use strict";t.d(e,{Z:function(){return nr}});var r=t(85893);t(67294);var i=t(7297),o=t(186),l=t(25675),u=t.n(l),c=t(24570),a=t(41664),d=t.n(a);function s(){let n=(0,i.Z)(["\n    flex-direction: column;\n    border-radius: 16px;\n  "]);return s=function(){return n},n}function f(){let n=(0,i.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  gap: 24px;\n  border: 1px solid #c8c8c8;\n  padding: 16px;\n  align-items: flex-start;\n  border-radius: 32px;\n  cursor: pointer;\n\n  ","\n"]);return f=function(){return n},n}function h(){let n=(0,i.Z)(["\n    width: 100%;\n  "]);return h=function(){return n},n}function p(){let n=(0,i.Z)(["\n  min-width: 220px;\n  height: 220px;\n\n  position: relative;\n  display: block;\n  align-items: center;\n\n  ","\n"]);return p=function(){return n},n}function x(){let n=(0,i.Z)(["\n  height: 100%;\n  border-radius: 32px;\n  width: 100%;\n  object-fit: cover;\n  aspect-ratio: attr(width) / attr(height);\n"]);return x=function(){return n},n}function m(){let n=(0,i.Z)(["\n  min-width: 100px;\n  height: 100px;\n  position: relative;\n  display: block;\n  align-items: center;\n"]);return m=function(){return n},n}function g(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n"]);return g=function(){return n},n}function v(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  align-items: flex-start;\n  width: 100%;\n"]);return v=function(){return n},n}function w(){let n=(0,i.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]);return w=function(){return n},n}function Z(){let n=(0,i.Z)(["\n  height: 1px;\n  width: 100%;\n  background-color: ",";\n"]);return Z=function(){return n},n}function C(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]);return C=function(){return n},n}function y(){let n=(0,i.Z)(["\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return y=function(){return n},n}function b(){let n=(0,i.Z)(["\n  ",";\n"]);return b=function(){return n},n}function j(){let n=(0,i.Z)(["\n    color: ",";\n    font-family: ",";\n  "]);return j=function(){return n},n}function I(){let n=(0,i.Z)(["\n  padding: 0 4px;\n  ",";\n"]);return I=function(){return n},n}function P(){let n=(0,i.Z)(["\n  ",";\n"]);return P=function(){return n},n}function k(){let n=(0,i.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return k=function(){return n},n}function T(){let n=(0,i.Z)(["\n  ",";\n"]);return T=function(){return n},n}function z(){let n=(0,i.Z)(["\n      width: 100%;\n    "]);return z=function(){return n},n}function D(){let n=(0,i.Z)(["\n    &:hover {\n      background: #c6e1f3;\n      color: #1d7abd;\n    }\n    color: ",";\n    font-size: ",";\n    background: ",";\n    font-family: ",";\n\n    ","\n  "]);return D=function(){return n},n}function U(){let n=(0,i.Z)(["\n  display: flex;\n  align-self: flex-end;\n  flex-direction: row;\n  gap: 16px;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px 24px;\n  height: 56px;\n  border-radius: 16px;\n  float: right;\n\n  ","\n"]);return U=function(){return n},n}function O(){let n=(0,i.Z)(["\n  transform: rotate(-90deg);\n"]);return O=function(){return n},n}function M(){let n=(0,i.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return M=function(){return n},n}function R(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  ",";\n"]);return R=function(){return n},n}function E(){let n=(0,i.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return E=function(){return n},n}function N(){let n=(0,i.Z)(["\n  ",";\n"]);return N=function(){return n},n}function L(){let n=(0,i.Z)(["\n        font-size: ",";\n    "]);return L=function(){return n},n}function S(){let n=(0,i.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    ",";\n  "]);return S=function(){return n},n}function _(){let n=(0,i.Z)(["\n  ","\n"]);return _=function(){return n},n}let F=(0,o.ZP)(d()).withConfig({componentId:"sc-3f0e2e9c-0"})(f(),n=>{let{theme:e}=n;return e.media.down("sm")(s())}),V=o.ZP.div.withConfig({componentId:"sc-3f0e2e9c-1"})(p(),n=>{let{theme:e}=n;return e.media.down("sm")(h())}),A=(0,o.ZP)(u()).withConfig({componentId:"sc-3f0e2e9c-2"})(x());o.ZP.div.withConfig({componentId:"sc-3f0e2e9c-3"})(m()),o.ZP.div.withConfig({componentId:"sc-3f0e2e9c-4"})(g()),o.ZP.div.withConfig({componentId:"sc-3f0e2e9c-5"})(v());let B=o.ZP.div.withConfig({componentId:"sc-3f0e2e9c-6"})(w()),G=o.ZP.span.withConfig({componentId:"sc-3f0e2e9c-7"})(Z(),n=>{let{theme:e}=n;return e.colors.primary}),K=o.ZP.div.withConfig({componentId:"sc-3f0e2e9c-8"})(C()),X=o.ZP.h3.withConfig({componentId:"sc-3f0e2e9c-9"})(b(),n=>{let{theme:e}=n;return(0,o.iv)(y(),e.font.size.body2,e.font.weight.regular,e.font.family.gothicDemi)}),q=o.ZP.span.withConfig({componentId:"sc-3f0e2e9c-10"})(I(),n=>{let{theme:e}=n;return(0,o.iv)(j(),e.colors.primary,e.font.family.gothicDemi)});o.ZP.h3.withConfig({componentId:"sc-3f0e2e9c-11"})(P(),n=>{let{theme:e}=n;return"\n    font-size: ".concat(e.font.size.body2,";\n    font-weight: ").concat(e.font.weight.regular,";\n    color: #4f4f4f;\n    ")});let Q=o.ZP.p.withConfig({componentId:"sc-3f0e2e9c-12"})(T(),n=>{let{theme:e}=n;return(0,o.iv)(k(),e.colors.black,e.font.size.body2,e.font.weight.regular,e.font.family.gothicBook)}),H=o.ZP.a.withConfig({componentId:"sc-3f0e2e9c-13"})(U(),n=>{let{theme:e}=n;return(0,o.iv)(D(),e.colors.white,e.font.size.subtitle2,e.colors.primary,e.font.family.gothicDemi,e.media.down("sm")(z()))}),Y=(0,o.ZP)(c.Z).withConfig({componentId:"sc-3f0e2e9c-14"})(O()),$=o.ZP.h2.withConfig({componentId:"sc-3f0e2e9c-15"})(R(),n=>{let{theme:e}=n;return(0,o.iv)(M(),e.colors.primary,e.font.size.heading2,e.font.weight.regular,e.font.family.gothicDemi)});o.ZP.h2.withConfig({componentId:"sc-3f0e2e9c-16"})(N(),n=>{let{theme:e}=n;return(0,o.iv)(E(),e.colors.secondary,e.font.size.heading3,e.font.weight.regular,e.font.family.gothicMedium)});let J=o.ZP.h3.withConfig({componentId:"sc-3f0e2e9c-17"})(_(),n=>{let{theme:e}=n;return(0,o.iv)(S(),e.colors.primary,e.font.size.body2,e.font.weight.regular,e.media.down("xs")(L(),e.font.size.subtitle2))});var W=t(64468),nn=t(40152),ne=t(80514);let nt=n=>{let{name:e,description:t,link:i,avatar:o,cityName:l,costPerHour:u,age:c}=n;return(0,nn.Z)("(max-width: ".concat(ne.AV.sm,"px)")),(0,r.jsxs)(F,{href:i,passHref:!0,children:[(0,r.jsx)(V,{children:(0,r.jsx)(A,{src:o,layout:"fill",alt:"image"})}),(0,r.jsxs)(B,{children:[(0,r.jsx)($,{children:e}),(0,r.jsx)(J,{children:l}),(0,r.jsx)(G,{}),(0,r.jsx)(K,{children:(0,r.jsxs)(X,{children:["Стоимость",(0,r.jsx)(q,{children:u}),"".concat((0,W.fd)(u,W.Tl.rubles),"/час")]})}),(0,r.jsx)(Q,{children:t}),(0,r.jsx)(d(),{href:i,passHref:!0,children:(0,r.jsxs)(H,{children:["Подробнее",(0,r.jsx)(Y,{stroke:"white"})]})})]})]})};var nr=nt},77343:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nX}});var r,i,o=t(85893),l=t(67294),u=t(9008),c=t.n(u),a=t(11163),d=t(82741),s=t(40152),f=t(80514),h=t(79417),p=t(15232),x=t(24324),m=t(65959),g=t(88271),v=t(34443);(r=i||(i={})).GUIDE="GUIDE",r.EXCURSION="EXCURSION";var w=t(23230),Z=t(49305),C=t(49836);let y=Z.gk.injectEndpoints({endpoints:n=>({getLeisureList:n.query({query:n=>({url:"/leisure?".concat((0,C.z)(n))}),transformResponse:(n,e)=>{var t;return{...n,totalCount:(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.headers.get("X-TOTAL-COUNT"))||"1"}},keepUnusedDataFor:0})}),overrideExisting:!0}),{endpoints:{getLeisureList:b}}=y,{useGetLeisureListQuery:j}=y;var I=t(72938),P=t(7297),k=t(186);function T(){let n=(0,P.Z)(["\n    "]);return T=function(){return n},n}function z(){let n=(0,P.Z)(["\n    ","\n  "]);return z=function(){return n},n}function D(){let n=(0,P.Z)(["\n  display: flex;\n  gap: 24px;\n  flex-direction: row;\n  ","\n"]);return D=function(){return n},n}function U(){let n=(0,P.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 44px;\n"]);return U=function(){return n},n}function O(){let n=(0,P.Z)(["\n    "]);return O=function(){return n},n}function M(){let n=(0,P.Z)(["\n    padding-bottom: 16px;\n    ","\n  "]);return M=function(){return n},n}function R(){let n=(0,P.Z)(["\n  padding-bottom: 32px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  ","\n"]);return R=function(){return n},n}function E(){let n=(0,P.Z)(["\n    width: 100%;\n    height: auto;\n  "]);return E=function(){return n},n}function N(){let n=(0,P.Z)(["\n  width: 326px;\n  ","\n"]);return N=function(){return n},n}function L(){let n=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  flex: 1;\n"]);return L=function(){return n},n}function S(){let n=(0,P.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]);return S=function(){return n},n}let _=k.ZP.div.withConfig({componentId:"sc-c5bebd5e-0"})(D(),n=>{let{theme:e}=n;return e.media.down("md")(z(),e.media.down("sm")(T()))}),F=k.ZP.div.withConfig({componentId:"sc-c5bebd5e-1"})(U()),V=k.ZP.div.withConfig({componentId:"sc-c5bebd5e-2"})(R(),n=>{let{theme:e}=n;return e.media.down("sm")(M(),e.media.down("xs")(O()))}),A=k.ZP.div.withConfig({componentId:"sc-c5bebd5e-3"})(N(),n=>{let{theme:e}=n;return e.media.down("md")(E())}),B=k.ZP.div.withConfig({componentId:"sc-c5bebd5e-4"})(L()),G=k.ZP.div.withConfig({componentId:"sc-c5bebd5e-5"})(S());var K=t(87536),X=t(98396),q=t(27484),Q=t.n(q),H=t(57441),Y=t(16310),$=t(47533),J=t(85601),W=t(96894);let nn=()=>{let n=(0,H.T)(),e=(0,a.useRouter)(),t=(0,H.C)(w.n_);(0,l.useEffect)(()=>{let{cityId:r,offset:i,withChildren:o,limit:l,travelMode:u,excursionType:c,specialOffer:a,type:d}=e.query,{date:s,dateTo:f}=e.query;Q()(s).isBefore(Q()().startOf("D"))&&(s=Q()().format(W.K_),f=Q()(s).add(3,"day").format(W.K_)),Q()(f).isBefore(s)&&(f=Q()().add(3,"day").format(W.K_)),n((0,w.KF)({date:s?String(s):t.date,dateTo:f?String(f):t.dateTo,cityId:r&&"null"!==r?String(r):t.cityId,offset:i?Number(i):t.offset,withChildren:"true"===o,specialOffer:"true"===a,limit:l?Number(l):t.limit,travelMode:u?u.split(","):[],type:null!=d?d:null,excursionType:c?c.split(","):[],popular:t.popular&&!t.cityId}))},[e])};var ne=t(42143),nt=t(52962);function nr(){let n=(0,P.Z)(["\n  width: 100%;\n  background: #fff;\n"]);return nr=function(){return n},n}function ni(){let n=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]);return ni=function(){return n},n}function no(){let n=(0,P.Z)(["\n  height: 56px;\n  font-size: 20px;\n"]);return no=function(){return n},n}function nl(){let n=(0,P.Z)(["\n          svg {\n            fill: ",";\n          }\n        "]);return nl=function(){return n},n}function nu(){let n=(0,P.Z)(["\n          svg {\n            fill: ",";\n          }\n        "]);return nu=function(){return n},n}function nc(){let n=(0,P.Z)(["\n  ","\n  border-radius: 4px;\n"]);return nc=function(){return n},n}let na=k.ZP.div.withConfig({componentId:"sc-57226ff8-0"})(nr()),nd=k.ZP.form.withConfig({componentId:"sc-57226ff8-1"})(ni()),ns=(0,k.ZP)(ne.Z).withConfig({componentId:"sc-57226ff8-2"})(no());(0,k.ZP)(nt.Z).withConfig({componentId:"sc-57226ff8-3"})(nc(),n=>n.value?(0,k.iv)(nl(),n.theme.colors.primary):(0,k.iv)(nu(),n.theme.colors.secondary));var nf=t(71620),nh=t(8825);function np(){let n=(0,P.Z)(["\n    width: 100%;\n  "]);return np=function(){return n},n}function nx(){let n=(0,P.Z)(["\n  position: relative;\n  padding: 16px;\n  gap: 24px;\n  max-width: 1180px;\n  min-height: 158px;\n  background: ",";\n  border-radius: 24px;\n  ","\n"]);return nx=function(){return n},n}function nm(){let n=(0,P.Z)(["\n      width: 100%;\n      flex-direction: column;\n    "]);return nm=function(){return n},n}function ng(){let n=(0,P.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 24px;\n  width: 100%;\n  flex-direction: column;\n\n  ","\n"]);return ng=function(){return n},n}function nv(){let n=(0,P.Z)(["\n  & .optionsMenu {\n    max-height: 400px;\n    overflow-y: scroll;\n    overflow-x: hidden;\n\n    &::-webkit-scrollbar-track {\n      margin: 0 0 6px 0;\n    }\n  }\n"]);return nv=function(){return n},n}function nw(){let n=(0,P.Z)(["\n  input {\n    padding: 3px 0 0 16px;\n  }\n"]);return nw=function(){return n},n}function nZ(){let n=(0,P.Z)(["\n  width: 100%;\n  height: 63px;\n  align-self: center;\n"]);return nZ=function(){return n},n}function nC(){let n=(0,P.Z)(["\n          input {\n            background: #fff;\n          }\n          svg {\n            fill: ",";\n            width: 28px;\n            height: 28px;\n          }\n        "]);return nC=function(){return n},n}function ny(){let n=(0,P.Z)(["\n          svg {\n            fill: #fff;\n            background: white;\n            width: 20px;\n            height: 20px;\n            border-radius: 4px;\n          }\n        "]);return ny=function(){return n},n}function nb(){let n=(0,P.Z)(["\n  .Mui-checked {\n    background: #fff;\n    border-radius: 0;\n  }\n  ","\n"]);return nb=function(){return n},n}function nj(){let n=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 21px;\n"]);return nj=function(){return n},n}let nI=k.ZP.div.withConfig({componentId:"sc-cb24cd69-0"})(nx(),n=>{let{theme:e}=n;return e.colors.secondary},n=>n.theme.media.down("lg")(np())),nP=k.ZP.form.withConfig({componentId:"sc-cb24cd69-1"})(ng(),n=>{let{theme:e}=n;return e.media.down("sm")(nm())}),nk=(0,k.ZP)(nh.Z).withConfig({componentId:"sc-cb24cd69-2"})(nv()),nT=(0,k.ZP)(nf.Z).withConfig({componentId:"sc-cb24cd69-3"})(nw()),nz=(0,k.ZP)(ne.Z).withConfig({componentId:"sc-cb24cd69-4"})(nZ());(0,k.ZP)(nt.Z).withConfig({componentId:"sc-cb24cd69-5"})(nb(),n=>n.value?(0,k.iv)(nC(),n.theme.colors.primary):(0,k.iv)(ny()));let nD=k.ZP.div.withConfig({componentId:"sc-cb24cd69-6"})(nj());var nU=t(31729);let nO=n=>{let{handleSubmit:e,handleFormSubmit:t,isValid:r,errors:i,control:l,setValue:u}=n,[c]=(0,J.B)();return(0,o.jsx)(na,{children:(0,o.jsxs)(nd,{children:[(0,o.jsx)(K.Qr,{name:"cityId",control:l,render:n=>{var e;let{field:t}=n;return(0,o.jsx)(nk,{label:"Населенный пункт",options:c,...t,value:t.value,emptyOption:{value:nU.c.POPULAR,title:"Популярное"},error:null===(e=i.cityId)||void 0===e?void 0:e.message,onChange:n=>{n===nU.c.POPULAR?(t.onChange(null),u("popular",!0)):(u("popular",!1),t.onChange(n))},placeholder:"Укажите населенный пункт"})}}),(0,o.jsx)(K.Qr,{control:l,name:"date",render:n=>{let{field:e}=n;return(0,o.jsx)(nT,{label:"Дата с",value:Q()(e.value),setValue:n=>{e.onChange(n)},placeholder:"Выберите дату"})}}),(0,o.jsx)(K.Qr,{control:l,name:"dateTo",render:n=>{let{field:e}=n;return(0,o.jsx)(nT,{label:"Дата до",value:Q()(e.value),setValue:n=>{e.onChange(n)},placeholder:"Выберите дату"})}}),(0,o.jsx)(ns,{dark:!0,disabled:!r,onClick:e(t),children:"Посмотреть"})]})})};var nM=t(46263),nR=t(24570),nE=t(63710),nN=t(30838);let nL=n=>{let e=[{title:"Пешком",value:nN.LT.FOOT,count:n.travelModeFootCount},{title:"На машине",value:nN.LT.CAR,count:n.travelModeCarCount},{title:"На велосипеде",value:nN.LT.BIKE,count:n.travelModeBikeCount},{title:"На автобусе",value:nN.LT.BUS,count:n.travelModeBusCount},{title:"На мотоцикле",value:nN.LT.MOTORCYCLE,count:n.travelModeMotorcycleCount},{title:"На кораблике",value:nN.LT.BOAT,count:n.travelModeBoatCount},{title:"В музее",value:nN.LT.MUSEUM,count:n.travelModeMuseumCount},{title:"В помещении",value:nN.LT.IN_DOOR,count:n.travelModeIndoorCount},{title:"Конный",value:nN.LT.HORSEBACK,count:n.travelModeHorsebackCount}],t=[{value:nN.CN.INDIVIDUAL,title:"Индивидуальный",count:n.excursionTypeIndividualCount},{value:nN.CN.GROUP,title:"Групповой",count:n.excursionTypeGroupCount}],r=[{value:i.EXCURSION,title:"Экскурсия",count:n.typeExcursionCount},{value:i.GUIDE,title:"Гид",count:n.typeGuideCount}];return{travelModeParams:e,excursionTypeParams:t,leisureTypeParams:r}},nS=n=>{let{isCollapsed:e,filters:t,handleFilterParams:r,values:i,name:l}=n,u=(0,H.T)(),c=n=>{let e=n.add?[...i,n.filterName]:i.filter(e=>e!==n.filterName);u((0,w.KF)("travelMode"===l?{travelMode:e}:{excursionType:e})),r&&r(e)};return(0,o.jsx)(o.Fragment,{children:null==t?void 0:t.map(n=>(0,o.jsxs)(nE.CR,{children:[(0,o.jsx)(nE.aU,{children:(0,o.jsx)(nE.wk,{isCollapsed:e,label:n.title,value:!!i.find(e=>e===n.value),setValue:e=>{c({filterName:n.value,add:e})}})}),(0,o.jsx)(nE.YL,{children:n.count})]},n.title))})},n_=n=>{let{control:e,handleFormSubmit:t,isCollapsed:r,filtersData:u,isTablet:c,setValue:a}=n,d=(0,H.T)(),s=(0,H.C)(w.n_),[f,h]=(0,l.useState)(!1),{travelModeParams:p,excursionTypeParams:x,leisureTypeParams:m}=nL(u),g=()=>{h(n=>!n)},v=s.type===i.GUIDE,Z=s.type===i.EXCURSION||s.excursionType.length>0;return(0,o.jsxs)(nE.aA,{isCollapsed:r,$isTablet:c,children:[r?(0,o.jsxs)(nE.ku,{onClick:g,children:["Фильтры",(0,o.jsx)(nE.nR,{isOpen:f,children:(0,o.jsx)(nR.Z,{})})]}):(0,o.jsx)(nE.tE,{children:"Фильтры"}),c&&f&&(0,o.jsx)(nE.iz,{}),(!r||f)&&(0,o.jsxs)(nE.Zf,{isCollapsed:r,children:[(0,o.jsx)(K.Qr,{control:e,name:"specialOffer",render:n=>{let{field:e}=n;return(0,o.jsxs)(nE.CR,{children:[(0,o.jsx)(nE.aU,{children:(0,o.jsx)(nE.wk,{isCollapsed:r,label:"спецпредложения",value:(null==s?void 0:s.specialOffer)||!!e.value,setValue:n=>{d((0,w.KF)({specialOffer:n})),e.onChange(n),t&&t()}})}),(0,o.jsx)(nE.YL,{children:u.specialOfferCount})]})}}),(0,o.jsx)(K.Qr,{control:e,name:"withChildren",render:n=>{let{field:e}=n;return(0,o.jsxs)(nE.CR,{children:[(0,o.jsx)(nE.aU,{children:(0,o.jsx)(nE.wk,{isCollapsed:r,label:"Можно с детьми",value:(null==s?void 0:s.withChildren)||!!e.value,setValue:n=>{d((0,w.KF)({withChildren:n})),e.onChange(n),t&&t()}})}),(0,o.jsx)(nE.YL,{children:u.withChildrenCount})]})}}),!v&&(0,o.jsx)(K.Qr,{control:e,name:"type",render:n=>{let{field:e}=n,l=(null==e?void 0:e.value)===i.EXCURSION||s.type===i.EXCURSION;return(0,o.jsxs)(nE.CR,{children:[(0,o.jsx)(nE.aU,{children:(0,o.jsx)(nE.wk,{isCollapsed:r,label:"Экскурсия",value:l,setValue:n=>{let r=n?i.EXCURSION:null;d((0,w.KF)({type:r})),e.onChange(r),t&&t()}})}),(0,o.jsx)(nE.YL,{children:u.typeExcursionCount})]})}}),!Z&&(0,o.jsx)(K.Qr,{control:e,name:"type",render:n=>{let{field:e}=n,l=(null==e?void 0:e.value)===i.GUIDE||s.type===i.GUIDE;return(0,o.jsxs)(nE.CR,{children:[(0,o.jsx)(nE.aU,{children:(0,o.jsx)(nE.wk,{isCollapsed:r,label:"Гид",value:l,setValue:n=>{let r=n?i.GUIDE:null;d((0,w.KF)({type:r,excursionType:[]})),e.onChange(r),a("excursionType",[]),t&&t()}})}),(0,o.jsx)(nE.YL,{children:u.typeGuideCount})]})}}),!v&&(0,o.jsx)(K.Qr,{control:e,name:"excursionType",render:n=>{let{field:e}=n;return(0,o.jsx)(nS,{name:"excursionType",values:s.excursionType,filters:x,isCollapsed:r,handleFilterParams:n=>{e.onChange(n),t&&t()}})}}),(0,o.jsx)(K.Qr,{control:e,name:"travelMode",render:n=>{let{field:e}=n;return(0,o.jsx)(nS,{name:"travelMode",values:s.travelMode,filters:p,isCollapsed:r,handleFilterParams:n=>{e.onChange(n),t&&t()}})}})]})]})},nF=n=>{let{handler:e,locationForParamsString:t,filtersData:r}=n;nn();let i=(0,H.T)(),[u]=(0,J.B)(),c=(0,H.C)(w.n_),a=(0,X.Z)("(max-width: ".concat(f.AV.xs,"px)")),d=(0,X.Z)("(min-width: ".concat(f.AV.md+1,"px)")),s=!a&&!d,h=Y.Ry().shape({cityId:Y.Z_().nullable().when(["popular"],{is:!0,then:n=>n,otherwise:n=>n.required("Выберите город")})}),{formState:{errors:p,isValid:x},handleSubmit:m,control:g,reset:v,getValues:Z,setValue:C,trigger:y}=(0,K.cI)({resolver:(0,$.X)(h),mode:"onChange"}),b=n=>{let r={...n,date:Q()(n.date).format(W.K_),dateTo:Q()(n.dateTo).format(W.K_)};i((0,w.KF)(r));let{queriesString:o}=(0,I.Aw)(r,t);e(o)},j=()=>{m(b)()};return(0,l.useEffect)(()=>{v({...c})},[c]),a?(0,o.jsxs)(nD,{children:[(0,o.jsx)(nO,{handleSubmit:m,handleFormSubmit:b,isValid:x,trigger:y,setValue:C,control:g,errors:p,getValues:Z}),(0,o.jsx)(n_,{filtersData:r,control:g,handleFormSubmit:j,isCollapsed:!0,setValue:C})]}):(0,o.jsxs)(nD,{children:[(0,o.jsxs)(nI,{children:[(0,o.jsx)(nM.Ux,{children:"Найти"}),(0,o.jsx)("br",{}),(0,o.jsxs)(nP,{children:[(0,o.jsx)(K.Qr,{name:"cityId",control:g,render:n=>{var e;let{field:t}=n;return(0,o.jsx)(nk,{label:"Населенный пункт",options:u,...t,value:t.value,emptyOption:{value:nU.c.POPULAR,title:"Популярное"},error:null===(e=p.cityId)||void 0===e?void 0:e.message,onChange:n=>{n===nU.c.POPULAR?(t.onChange(null),C("popular",!0)):(C("popular",!1),t.onChange(n)),j()},placeholder:"Укажите населенный пункт"})}}),(0,o.jsx)(K.Qr,{control:g,name:"date",render:n=>{let{field:e}=n;return(0,o.jsx)(nT,{label:"Дата с",value:Q()(e.value),setValue:n=>{e.onChange(n),j()},placeholder:"Выберите дату"})}}),(0,o.jsx)(K.Qr,{control:g,name:"dateTo",render:n=>{let{field:e}=n;return(0,o.jsx)(nT,{label:"Дата до",value:Q()(e.value),setValue:n=>{e.onChange(n),j()},placeholder:"Выберите дату"})}}),(0,o.jsx)(nz,{onClick:m(b),dark:!0,disabled:!x,children:"Посмотреть"})]})]}),!a&&(0,o.jsx)(n_,{filtersData:r,control:g,handleFormSubmit:j,isCollapsed:s,isTablet:s,setValue:C})]})};var nV=t(96869),nA=t(1814);let nB=[{url:"/",label:"Главная"},{url:"/leisure",label:"Результаты поиска"}],nG=()=>{let[n,e]=(0,l.useState)(!1),t=(0,s.Z)("(max-width: ".concat(f.AV.md,"px)")),r=(0,x.CG)(w.n_),u=(0,a.useRouter)(),{data:c,isLoading:d}=j(u.query,{skip:!u.query.date}),Z=null==c?void 0:c.data,C=n=>{let{queriesString:e}=(0,I.Aw)({...r,offset:(n-1)*Number(u.query.limit||I.NR.limit)},I.Xm.list);u.push("/leisure?".concat(e))},y=n=>{e(!1),u.push("/leisure?".concat(n),void 0,{shallow:!0})},b=(0,l.useMemo)(()=>Math.floor(Number(u.query.offset||I.NR.offset)/Number(u.query.limit||I.NR.limit))+1,[u]),P=(0,l.useMemo)(()=>Math.ceil(Number(null==c?void 0:c.totalCount)/Number(u.query.limit||I.NR.limit)),[u,null==c?void 0:c.totalCount]);return(0,o.jsxs)(F,{children:[(0,o.jsxs)(V,{children:[(0,o.jsx)(h.Z,{paths:nB}),t&&(0,o.jsx)(p.Z,{onClick:()=>e(n=>!n),isActive:!n})]}),(0,o.jsxs)(_,{children:[t&&n&&(null==c?void 0:c.filterData)&&(0,o.jsx)(nF,{handler:y,locationForParamsString:I.Xm.list,filtersData:null==c?void 0:c.filterData}),!t&&(null==c?void 0:c.filterData)&&(0,o.jsx)(A,{children:(0,o.jsx)(nF,{handler:y,locationForParamsString:I.Xm.list,filtersData:null==c?void 0:c.filterData})}),!n&&(0,o.jsxs)(B,{children:[Z&&Z.length>0&&Z.map(n=>{var e,t,r,l,u,c,a,d,s;return n.type===i.GUIDE?(0,o.jsx)(nV.Z,{...n,age:null!==(c=null===(e=n.guideData)||void 0===e?void 0:e.age)&&void 0!==c?c:0,avatar:n.mainPhotoUrl,costPerHour:null!==(a=null===(t=n.guideData)||void 0===t?void 0:t.costPerHour)&&void 0!==a?a:0,link:"/guide/".concat(n.id)},n.id):(0,o.jsx)(nA.Z,{...n,adultPrice:null!==(d=null===(r=n.excursionData)||void 0===r?void 0:r.adultPrice)&&void 0!==d?d:0,childrenPrice:null===(l=n.excursionData)||void 0===l?void 0:l.childrenPrice,duration:null!==(s=null===(u=n.excursionData)||void 0===u?void 0:u.duration)&&void 0!==s?s:0,type:n.excursionData.type,link:"/excursion/".concat(n.id)},n.id)}),!(null==Z?void 0:Z.length)&&!d&&(0,o.jsx)(G,{children:(0,o.jsx)(g.Z,{title:"Досуг не был найден",subtitle:"Попробуйте использовать другие настройки фильтров"})}),P>1&&u.query.date&&(0,o.jsx)(v.Z,{leftSideButtons:1,rightSideButtons:1,visiblePages:4,currentPage:b,totalPages:P,onPageChange:C})]})]}),(0,o.jsx)(m.Z,{showSpinner:d})]})},nK=()=>{let{data:n}=(0,d.tu)(),e=(0,a.useRouter)(),t=null==n?void 0:n.data.cityList.find(n=>{var t;return n.id===+(null===(t=e.query)||void 0===t?void 0:t.cityId)});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c(),{children:(0,o.jsxs)("title",{children:["Go2Kavkaz : Досуги по направлению ",null==t?void 0:t.name]})}),(0,o.jsx)(nG,{})]})};var nX=nK}},function(n){n.O(0,[947,8664,867,9774,2888,179],function(){return n(n.s=78671)}),_N_E=n.O()}]);