"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8668],{42326:function(n,e,t){var r=t(89882),i=t(27484),o=t.n(i);let l=n=>{let{arrivalDate:e,departureDate:t}=n;if(!e||!t)return{daysString:null,dateRangeString:null,datesWithTime:{arrivalDate:null,departureDate:null}};let i={departureDate:o()(t.split("T")[0]),arrivalDate:o()(e.split("T")[0])},l={departureDate:o()(t),arrivalDate:o()(e)},a=i.departureDate.diff(i.arrivalDate,"day",!0),u="".concat(a+1," ").concat((0,r.$)(a+1,["день","дня","дней"]),", ").concat(a," ").concat((0,r.$)(a,["ночь","ночи","ночей"])),c="".concat(i.arrivalDate.format("DD MMM")," - ").concat(i.departureDate.format("DD MMM, YYYY"));return{daysString:u,dateRangeString:c,datesWithTime:l,nights:a}};e.Z=l},51949:function(n,e,t){t.d(e,{l:function(){return i}});var r=t(20377);function i(){let{enqueueSnackbar:n}=(0,r.Ds)(),e=(e,t)=>{n(e,{variant:t})};return e}},602:function(n,e,t){t.d(e,{p:function(){return o}});var r,i=t(51949);(r||(r={})).serverError="Ошибка сервера";let o=n=>{let e=(0,i.l)();n&&e(n.status.toString().startsWith("5")?r.serverError:n.data.message,"error")}},91591:function(n,e,t){t.d(e,{Z:function(){return b}});var r=t(85893);t(67294);var i=t(7297),o=t(186),l=t(25675),a=t.n(l);function u(){let n=(0,i.Z)(["\n    width: 100%;\n  "]);return u=function(){return n},n}function c(){let n=(0,i.Z)(["\n  position: relative;\n  min-width: 234px;\n  min-height: 88px;\n  height: ",";\n\n  ","\n"]);return c=function(){return n},n}function d(){let n=(0,i.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n"]);return d=function(){return n},n}function s(){let n=(0,i.Z)(["\n    &:hover {\n      background: #c6e1f3;\n      color: #1d7abd;\n    }\n  "]);return s=function(){return n},n}function f(){let n=(0,i.Z)(["\n    width: 90%;\n    "]);return f=function(){return n},n}function p(){let n=(0,i.Z)(["\n    background-color: ",";\n    color: ",";\n    font-size: ",";\n    font-family: ",";\n\n    ","\n\n    ","\n  "]);return p=function(){return n},n}function h(){let n=(0,i.Z)(["\n  position: absolute;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 18px 24px;\n  gap: 10px;\n  width: ",";\n  white-space: nowrap;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: 56px;\n  border-radius: 16px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  background: #1d7abd;\n\n  ","\n"]);return h=function(){return n},n}let x=o.ZP.div.withConfig({componentId:"sc-e7e9799f-0"})(c(),n=>{let{isPlacement:e,isBookingDetail:t}=n;return e||t?"88px":"100%"},n=>{let{theme:e}=n;return e.media.down("xs")(u())}),m=(0,o.ZP)(a()).withConfig({componentId:"sc-e7e9799f-1"})(d()),g=o.ZP.button.withConfig({componentId:"sc-e7e9799f-2"})(h(),n=>{let{isMapOpened:e,isPlacement:t,isBookingDetail:r}=n;return e?"100%":t?"260px":r?"300px":"auto"},n=>{let{theme:e,isPlacement:t}=n;return(0,o.iv)(p(),e.colors.primary,e.colors.white,t?e.font.size.subtitle4:e.font.size.subtitle2,e.font.family.gothicDemi,n=>{let{theme:e}=n;return e.media.up("sm")(s())},e.media.down("md")(f()))});var v=t(41664),Z=t.n(v);let w=n=>{let{mapOpenFn:e,isMapOpened:t,isLink:i,link:o,isPlacement:l,isBookingDetail:a}=n;return i?(0,r.jsxs)(x,{isBookingDetail:!!a,children:[(0,r.jsx)(m,{src:"/images/map-background2.png",layout:"fill",alt:"map-image"}),o&&(0,r.jsx)(Z(),{href:o,children:(0,r.jsx)(g,{isBookingDetail:!!a,children:"Показать на карте"})}),!o&&(0,r.jsx)(g,{children:"Показать на карте"})]}):(0,r.jsxs)(x,{onClick:()=>e(),isPlacement:!!l,children:[!t&&(0,r.jsx)(m,{src:"/images/map-background2.png",layout:"fill",alt:"map-image"}),(0,r.jsx)(g,{isMapOpened:t,isPlacement:!!l,children:t?"Списком":"Показать на карте"})]})};var b=w},14281:function(n,e,t){t.d(e,{Z:function(){return m}});var r=t(85893);t(67294);var i=t(7297),o=t(44612),l=t(186);function a(){let n=(0,i.Z)(["\n  "]);return a=function(){return n},n}function u(){let n=(0,i.Z)(["\n  align-items: center;\n  display: inline-flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  column-gap: 16px;\n  row-gap: 4px;\n  ","\n"]);return u=function(){return n},n}function c(){let n=(0,i.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    font-family: ",";\n  "]);return c=function(){return n},n}function d(){let n=(0,i.Z)(["\n  display: inline-block;\n  text-align: left;\n  ",";\n"]);return d=function(){return n},n}function s(){let n=(0,i.Z)(["\n  display: inline-flex;\n  svg {\n    font-size: 32px;\n  }\n"]);return s=function(){return n},n}let f=l.ZP.p.withConfig({componentId:"sc-20ba3a6e-0"})(u(),n=>n.theme.media.down("xxs")(a())),p=l.ZP.span.withConfig({componentId:"sc-20ba3a6e-1"})(d(),n=>{let{theme:e}=n;return(0,l.iv)(c(),e.colors.primary,e.font.size.heading3,e.font.weight.regular,e.font.family.gothicDemi)}),h=(0,l.ZP)(o.Z).withConfig({componentId:"sc-20ba3a6e-2"})(s()),x=n=>{let{name:e,rating:t}=n;return(0,r.jsxs)(f,{children:[(0,r.jsx)(p,{children:e}),(0,r.jsx)(h,{name:"read-only",value:t,readOnly:!0,sx:{fontSize:"34px",color:"#F0CA2C"},emptyIcon:(0,r.jsx)(r.Fragment,{})})]})};var m=x},43060:function(n,e,t){t.d(e,{Z:function(){return nN}});var r=t(85893),i=t(67294),o=t(46263),l=t(87536),a=t(98396),u=t(27484),c=t.n(u),d=t(57441),s=t(82741),f=t(64468),p=t(16812),h=t(47533),x=t(7297),m=t(186);function g(){let n=(0,x.Z)(["\n      width: 100%;\n    "]);return g=function(){return n},n}function v(){let n=(0,x.Z)(["\n    position: relative;\n    flex: 1;\n\n    ","\n  "]);return v=function(){return n},n}function Z(){let n=(0,x.Z)(["\n  ",";\n"]);return Z=function(){return n},n}let w=m.ZP.div.withConfig({componentId:"sc-d8d34b3b-0"})(Z(),n=>{let{theme:e}=n;return(0,m.iv)(v(),e.media.down("xs")(g()))});function b(){let n=(0,x.Z)(["\n  display: flex;\n  width: 100%;\n  padding: 16px;\n  height: 48px;\n  align-items: center;\n  border-radius: 16px;\n  border: 3px solid var(--main-accent, #1d7abd);\n  background: var(--main-white, #fff);\n"]);return b=function(){return n},n}function j(){let n=(0,x.Z)(["\n    display: flex;\n    position: relative;\n    flex-direction: row;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    gap: 16px;\n    justify-content: space-between;\n  "]);return j=function(){return n},n}function C(){let n=(0,x.Z)(["\n  ",";\n"]);return C=function(){return n},n}function y(){let n=(0,x.Z)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n\n    font-size: ",";\n    font-weight: ",";\n    color: ",";\n    font-family: ",";\n  "]);return y=function(){return n},n}function D(){let n=(0,x.Z)(["\n  ",";\n"]);return D=function(){return n},n}function k(){let n=(0,x.Z)(["\n      transform: translateY(-50%) rotate(180deg);\n    "]);return k=function(){return n},n}function I(){let n=(0,x.Z)(["\n  position: absolute;\n  top: 50%;\n  right: 0;\n  display: block;\n  align-items: center;\n\n  transform: translateY(-50%);\n  transition: ",";\n\n  ",";\n"]);return I=function(){return n},n}let P=m.ZP.div.withConfig({componentId:"sc-dceaad1b-0"})(b()),A=m.ZP.div.withConfig({componentId:"sc-dceaad1b-1"})(C(),n=>{let{theme:e}=n;return(0,m.iv)(j())}),z=m.ZP.h3.withConfig({componentId:"sc-dceaad1b-2"})(D(),n=>{let{theme:e}=n;return(0,m.iv)(y(),e.font.size.body2,e.font.weight.regular,e.colors.default,e.font.family.gothicMedium)}),O=m.ZP.div.withConfig({componentId:"sc-dceaad1b-3"})(I(),n=>n.theme.transition.fast,n=>n.isOpen&&(0,m.iv)(k()));var Y=t(24570),M=t(89882);let V=n=>{var e;let{isOpenSelector:t,onClickHandler:i,watch:o}=n,l=o("numOfAdult"),a=null===(e=o("childAges"))||void 0===e?void 0:e.length,u="\n  ".concat(l," ").concat((0,M.$)(l,["взрослый","взрослых","взрослых"])).concat(a>0?", ".concat(a):""," ").concat(a>0?"".concat((0,M.$)(a,["ребенок","ребенка","детей"])):"");return(0,r.jsx)(P,{onClick:i,children:(0,r.jsxs)(A,{children:[(0,r.jsx)(z,{children:u}),(0,r.jsx)(O,{isOpen:t,children:(0,r.jsx)(Y.Z,{})})]})})};var S=t(8825);function L(){let n=(0,x.Z)(["\n          bottom: 0;\n          left: 0;\n          margin: 8px;\n          width: calc(100% - 16px);\n          position: fixed;\n        "]);return L=function(){return n},n}function F(){let n=(0,x.Z)(["\n          top: 64px;\n        "]);return F=function(){return n},n}function B(){let n=(0,x.Z)(["\n    margin: 0;\n    width: 100%;\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    padding: 16px;\n    border-radius: 16px;\n    border: 3px solid ",";\n    background: #fff;\n    transition: ",";\n    z-index: 2;\n\n    ","\n  "]);return B=function(){return n},n}function Q(){let n=(0,x.Z)(["\n  ",";\n"]);return Q=function(){return n},n}function R(){let n=(0,x.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    width: 100%;\n  "]);return R=function(){return n},n}function U(){let n=(0,x.Z)(["\n  ",";\n"]);return U=function(){return n},n}function E(){let n=(0,x.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  align-items: center;\n"]);return E=function(){return n},n}function T(){let n=(0,x.Z)(["\n    font-size: ",";\n    font-weight: ",";\n    color: ",";\n    font-family: ",";\n  "]);return T=function(){return n},n}function $(){let n=(0,x.Z)(["\n  ",";\n"]);return $=function(){return n},n}function _(){let n=(0,x.Z)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    border-radius: 16px;\n    border: 3px solid ",";\n    height: 42px;\n    width: 126px;\n    padding: 11px 6px;\n  "]);return _=function(){return n},n}function N(){let n=(0,x.Z)(["\n  ",";\n"]);return N=function(){return n},n}function K(){let n=(0,x.Z)(["\n  border-radius: 50%;\n  align-items: center;\n  display: flex;\n  padding: 6px;\n  cursor: pointer;\n  background: none;\n  outline: none;\n  border: none;\n  &:disabled {\n    border: none;\n    cursor: not-allowed;\n    background: none;\n\n    &:hover {\n      background: none;\n    }\n  }\n  &:active,\n  &:hover {\n    background: ",";\n  }\n"]);return K=function(){return n},n}function q(){let n=(0,x.Z)(["\n    font-size: ",";\n    font-weight: ",";\n    color: ",";\n    font-family: ",";\n  "]);return q=function(){return n},n}function H(){let n=(0,x.Z)(["\n  ",";\n"]);return H=function(){return n},n}function J(){let n=(0,x.Z)(["\n  flex: 1;\n  min-width: 108px;\n\n  & .selector {\n    height: 40px !important;\n  }\n  & .optionsMenu {\n    height: 160px;\n    overflow: scroll;\n    z-index: 10;\n  }\n"]);return J=function(){return n},n}function W(){let n=(0,x.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: 14px;\n  width: 100%;\n"]);return W=function(){return n},n}let X=m.ZP.div.withConfig({componentId:"sc-b0e14018-0"})(Q(),n=>{let{theme:e,isMobile:t}=n;return(0,m.iv)(B(),e.colors.primary,e.transition.fast,t?(0,m.iv)(L()):(0,m.iv)(F()))}),G=m.ZP.div.withConfig({componentId:"sc-b0e14018-1"})(U(),n=>{let{theme:e}=n;return(0,m.iv)(R())}),nn=m.ZP.div.withConfig({componentId:"sc-b0e14018-2"})(E()),ne=m.ZP.h3.withConfig({componentId:"sc-b0e14018-3"})($(),n=>{let{theme:e}=n;return(0,m.iv)(T(),e.font.size.body3,e.font.weight.regular,e.colors.default,e.font.family.gothicMedium)}),nt=m.ZP.div.withConfig({componentId:"sc-b0e14018-4"})(N(),n=>{let{theme:e}=n;return(0,m.iv)(_(),e.colors.primary)}),nr=m.ZP.button.withConfig({componentId:"sc-b0e14018-5"})(K(),n=>n.theme.colors.lightDefault),ni=m.ZP.span.withConfig({componentId:"sc-b0e14018-6"})(H(),n=>{let{theme:e}=n;return(0,m.iv)(q(),e.font.size.body3,e.font.weight.regular,e.colors.default,e.font.family.gothicMedium)}),no=(0,m.ZP)(S.Z).withConfig({componentId:"sc-b0e14018-7"})(J()),nl=m.ZP.div.withConfig({componentId:"sc-b0e14018-8"})(W());var na=t(51527),nu=t(51489),nc=t(42143),nd=t(40152),ns=t(80514),nf=t(40059);let np=n=>{let{childAges:e,control:t,errors:i,handleSubmit:o,getValues:a,appendChild:u,removeChild:c,setValue:d,watch:s}=n,f=(0,nd.Z)("(max-width: ".concat(ns.AV.xs,"px)")),p=e.map((n,e)=>(0,r.jsx)(l.Qr,{name:"childAges.".concat(e,".value"),control:t,render:n=>{var t,o,l;let{field:a}=n;return(0,r.jsx)(no,{options:nf.k,value:a.value,onChange:n=>{a.onChange(n)},error:null==i?void 0:null===(t=i.childAges)||void 0===t?void 0:null===(o=t[e])||void 0===o?void 0:null===(l=o.value)||void 0===l?void 0:l.message,placeholder:"Возраст"})}},e));return(0,r.jsxs)(X,{isMobile:f,children:[(0,r.jsxs)(G,{children:[(0,r.jsxs)(nn,{children:[(0,r.jsx)(ne,{children:"Взрослые"}),(0,r.jsxs)(nt,{children:[(0,r.jsx)(nr,{type:"button",onClick:()=>d("numOfAdult",a("numOfAdult")-1),disabled:2>s("numOfAdult"),children:(0,r.jsx)(na.Z,{})}),(0,r.jsx)(ni,{children:s("numOfAdult")}),(0,r.jsx)(nr,{type:"button",onClick:()=>d("numOfAdult",a("numOfAdult")+1),children:(0,r.jsx)(nu.Z,{})})]})]}),(0,r.jsxs)(nn,{children:[(0,r.jsx)(ne,{children:"Дети"}),(0,r.jsxs)(nt,{children:[(0,r.jsx)(nr,{type:"button",disabled:0===e.length,onClick:()=>c(e.length-1),children:(0,r.jsx)(na.Z,{})}),(0,r.jsx)(ni,{children:e.length}),(0,r.jsx)(nr,{type:"button",onClick:()=>u({value:null}),children:(0,r.jsx)(nu.Z,{})})]})]})]}),(0,r.jsx)(nl,{children:p}),(0,r.jsx)(nc.Z,{dark:!0,onClick:o,type:"button",children:"Готово"})]})};var nh=t(25140);let nx=n=>{var e;let{getValues:t,childAges:o,appendChild:l,removeChild:a,errors:u,control:c,setValue:d,watch:s,trigger:f,handleFormSubmit:p,isBookingDetail:h}=n,[x,m]=(0,i.useState)(!1),g=(0,i.useRef)(null),v=null===(e=s("childAges"))||void 0===e?void 0:e.every(n=>null!==n.value);(0,nh.O)({ref:g,handler:()=>{v&&m(!1)}});let Z=async()=>{let n=await f("childAges");n&&(m(!1),!h&&p&&p())},b=(0,r.jsx)(np,{watch:s,handleSubmit:Z,errors:u,control:c,childAges:o,setValue:d,removeChild:a,appendChild:l,getValues:t});return(0,r.jsxs)(w,{ref:g,children:[(0,r.jsx)(V,{watch:s,isOpenSelector:x,onClickHandler:()=>{x&&v?m(!1):m(!0)}}),x&&b]})};var nm=t(57632),ng=t(41248),nv=t(71620),nZ=t(52962);function nw(){let n=(0,x.Z)(["\n  background: white;\n  display: block;\n  z-index: 1;\n  width: 100%;\n  padding: 24px 0 24px 0;\n  margin-right: 16px;\n"]);return nw=function(){return n},n}function nb(){let n=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]);return nb=function(){return n},n}function nj(){let n=(0,x.Z)(["\n  & .optionsMenu {\n    max-height: 400px;\n    overflow-y: scroll;\n    overflow-x: hidden;\n\n    &::-webkit-scrollbar-track {\n      margin: 0 0 6px 0;\n    }\n  }\n"]);return nj=function(){return n},n}function nC(){let n=(0,x.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n"]);return nC=function(){return n},n}function ny(){let n=(0,x.Z)(["\n  input {\n    min-width: 180px;\n    padding: 3px 0 0 16px;\n  }\n"]);return ny=function(){return n},n}function nD(){let n=(0,x.Z)(["\n  height: 56px;\n  font-size: 20px;\n"]);return nD=function(){return n},n}function nk(){let n=(0,x.Z)(["\n          svg {\n            fill: ",";\n          }\n        "]);return nk=function(){return n},n}function nI(){let n=(0,x.Z)(["\n          svg {\n            fill: ",";\n          }\n        "]);return nI=function(){return n},n}function nP(){let n=(0,x.Z)(["\n  ","\n  border-radius: 4px;\n"]);return nP=function(){return n},n}let nA=m.ZP.div.withConfig({componentId:"sc-85150106-0"})(nw()),nz=m.ZP.form.withConfig({componentId:"sc-85150106-1"})(nb()),nO=(0,m.ZP)(S.Z).withConfig({componentId:"sc-85150106-2"})(nj()),nY=m.ZP.div.withConfig({componentId:"sc-85150106-3"})(nC()),nM=(0,m.ZP)(nv.Z).withConfig({componentId:"sc-85150106-4"})(ny()),nV=(0,m.ZP)(nc.Z).withConfig({componentId:"sc-85150106-5"})(nD());(0,m.ZP)(nZ.Z).withConfig({componentId:"sc-85150106-6"})(nP(),n=>n.value?(0,m.iv)(nk(),n.theme.colors.primary):(0,m.iv)(nI(),n.theme.colors.secondary));var nS=t(63710);let nL=n=>{let{isCollapsed:e,amenitiesData:t,handleAmenitiesFilter:i}=n,o=(0,d.T)(),l=(0,d.C)(s.N$).amenityCodes,a=n=>{let e=n.add?[...l,n.filterName]:l.filter(e=>e!==n.filterName);o((0,s.hL)({amenityCodes:e})),i&&i(e)};return(0,r.jsx)(r.Fragment,{children:null==t?void 0:t.map(n=>(0,r.jsxs)(nS.CR,{children:[(0,r.jsx)(nS.aU,{children:(0,r.jsx)(nS.wk,{isCollapsed:e,label:n.name,value:!!l.find(e=>e===n.code),setValue:e=>{a({filterName:n.code,add:e})}})}),(0,r.jsx)(nS.YL,{children:n.count})]},n.code))})},nF=n=>{let{control:e,filterData:t,handleFormSubmit:o,isCollapsed:a,amenitiesData:u,isTablet:c}=n,f=(0,d.T)(),[p,h]=(0,i.useState)(!1),x=()=>{h(n=>!n)},m=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Qr,{control:e,name:"specialOffer",render:n=>{let{field:e}=n;return(0,r.jsx)(nS.CR,{children:(0,r.jsx)(nS.aU,{children:(0,r.jsx)(nS.wk,{isCollapsed:a,label:"спецпредложения",value:(null==t?void 0:t.specialOffer)||!!e.value,setValue:n=>{f((0,s.hL)({popular:n})),e.onChange(n),o&&o()}})})})}}),(0,r.jsx)(l.Qr,{control:e,name:"breakfast",render:n=>{let{field:e}=n;return(0,r.jsx)(nS.CR,{children:(0,r.jsx)(nS.aU,{children:(0,r.jsx)(nS.wk,{isCollapsed:a,label:"Завтрак включён",value:(null==t?void 0:t.breakfast)||e.value,setValue:n=>{f((0,s.hL)({breakfast:n})),e.onChange(n),o&&o()}})})})}})]});return(0,r.jsxs)(nS.aA,{isCollapsed:a,$isTablet:c,children:[a?(0,r.jsxs)(nS.ku,{onClick:x,children:["Фильтры",(0,r.jsx)(nS.nR,{isOpen:p,children:(0,r.jsx)(Y.Z,{})})]}):(0,r.jsx)(nS.tE,{children:"Фильтры"}),(!a||p)&&(0,r.jsxs)(nS.Zf,{isCollapsed:a,children:[m,(0,r.jsx)(l.Qr,{control:e,name:"amenityCodes",render:n=>{let{field:e}=n;return(0,r.jsx)(nL,{amenitiesData:u,isCollapsed:a,handleAmenitiesFilter:n=>{e.onChange(n),o&&o()}})}})]})]})};var nB=t(85601),nQ=t(31729);let nR=n=>{let{handleSubmit:e,handleFormSubmit:t,isValid:i,childAges:o,getValues:a,appendChild:u,removeChild:c,errors:d,control:f,setValue:h,watch:x,trigger:m,amenitiesData:g}=n,v=(0,ng.I0)(),[Z]=(0,nB.B)();return(0,p.x)(),(0,r.jsx)(nA,{children:(0,r.jsxs)(nz,{onSubmit:e(t),children:[(0,r.jsx)(l.Qr,{name:"cityId",control:f,render:n=>{let{field:e}=n;return(0,r.jsx)(nO,{label:"Место / объект размещения",options:Z,...e,value:e.value,emptyOption:{value:nQ.c.POPULAR,title:"Популярное"},onChange:n=>{n===nQ.c.POPULAR?(e.onChange(null),h("popular",!0),v((0,s.hL)({popular:!0,cityId:null}))):(h("popular",!1),e.onChange(n),v((0,s.hL)({popular:!1,cityId:n}))),m()},placeholder:"Укажите населенный пункт"})}}),(0,r.jsxs)(nY,{children:[(0,r.jsx)(l.Qr,{control:f,name:"arrivalDate",render:n=>{let{field:e}=n;return(0,r.jsx)(nM,{label:"Дата заезда",value:e.value,format:"dddd DD.MM.YYYY",setValue:n=>{let t=a("departureDate");n&&(n.isAfter(t)||n.isSame(t))&&h("departureDate",n.add(1,"day")),e.onChange(n)},placeholder:"Выберите дату заезда"})}}),(0,r.jsx)(l.Qr,{control:f,name:"departureDate",render:n=>{var e;let{field:t}=n;return(0,r.jsx)(nM,{label:"Дата отъезда",value:t.value,format:"dddd DD.MM.YYYY",setValue:n=>{t.onChange(n)},placeholder:"Выберите дату отъезда",minDate:(null===(e=x("arrivalDate"))||void 0===e?void 0:e.add(1,"day"))||void 0})}})]}),(0,r.jsx)(nx,{childAges:o,getValues:a,appendChild:u,removeChild:c,errors:d,control:f,setValue:h,watch:x,trigger:m}),(0,r.jsx)(nF,{isCollapsed:!0,control:f,amenitiesData:g}),(0,r.jsx)(nV,{type:"submit",dark:!0,disabled:!i,children:"Посмотреть"})]})})};var nU=t(90756),nE=t(42326),nT=t(96894),n$=t(91591);let n_=n=>{var e,t;let{handler:u,locationForParamsString:x,amenitiesData:m,isWithoutFilterParams:g,isBookingDetail:v,isPlacement:Z,mapLink:w,isLink:b,isMapOpened:j,handleMap:C}=n;(0,p.x)();let y=(0,d.T)(),D=(0,d.C)(s.N$),[k]=(0,nB.B)(),I=(0,a.Z)("(max-width: ".concat(ns.AV.xs,"px)")),P=(0,a.Z)("(min-width: ".concat(ns.AV.md+1,"px)")),A=!I&&!P,{formState:{errors:z,isValid:O},handleSubmit:Y,control:V,watch:S,reset:L,getValues:F,setValue:B,trigger:Q}=(0,l.cI)({resolver:(0,h.X)(f.SU),mode:"onChange"}),{fields:R,append:U,remove:E}=(0,l.Dq)({control:V,name:"childAges"}),T=()=>{var n,e;let t={...F(),arrivalDate:null===(n=F("arrivalDate"))||void 0===n?void 0:n.format(nT.K_),departureDate:null===(e=F("departureDate"))||void 0===e?void 0:e.format(nT.K_),childAges:F("childAges").map(n=>n.value).filter(n=>null!==n)};y((0,s.hL)(t));let{queriesString:r}=(0,nU.F)(t,x);u(r)};(0,i.useEffect)(()=>{L({...D,departureDate:c()(D.departureDate),arrivalDate:c()(D.arrivalDate),childAges:D.childAges.map(n=>({value:n,id:(0,nm.Z)()}))})},[D]);let $=null===(e=S("arrivalDate"))||void 0===e?void 0:e.format(nT.K_),_=null===(t=S("departureDate"))||void 0===t?void 0:t.format(nT.K_),{nights:N}=(0,nE.Z)({arrivalDate:$||null,departureDate:_||null});return I?(0,r.jsx)(nR,{handleSubmit:Y,handleFormSubmit:T,isValid:O,trigger:Q,watch:S,setValue:B,control:V,errors:z,childAges:R,getValues:F,appendChild:U,removeChild:E,amenitiesData:m}):(0,r.jsxs)(o.dp,{isBookingDetail:!!v,children:[(0,r.jsx)(o.kI,{isBookingDetail:!!v,children:(0,r.jsxs)(o.SI,{onSubmit:Y(T),isBookingDetail:!!v,children:[(0,r.jsx)(o.Ux,{children:"Найти"}),(0,r.jsxs)(o.Uv,{children:[(0,r.jsx)(l.Qr,{name:"cityId",control:V,render:n=>{var e;let{field:t}=n;return(0,r.jsx)(o.zE,{label:"Место / объект размещения",options:k,...t,value:t.value,emptyOption:{value:nQ.c.POPULAR,title:"Популярное"},onChange:n=>{n===nQ.c.POPULAR?(t.onChange(null),B("popular",!0),y((0,s.hL)({popular:!0,cityId:null,amenityCodes:[]}))):(B("popular",!1),t.onChange(n),y((0,s.hL)({popular:!1,cityId:n,amenityCodes:[]}))),B("amenityCodes",[]),v||T(),Q()},error:null===(e=z.cityId)||void 0===e?void 0:e.message,placeholder:"Укажите населенный пункт"})}}),(0,r.jsxs)(o.VD,{children:[(0,r.jsxs)(o.JH,{children:[(0,r.jsx)(l.Qr,{control:V,name:"arrivalDate",defaultValue:c()(D.arrivalDate),render:n=>{let{field:e}=n;return(0,r.jsx)(o.dz,{label:"Дата заезда",value:c()(e.value),format:"dddd DD.MM.YYYY",setValue:n=>{let t=F("departureDate");n&&(n.isAfter(t)||n.isSame(t))&&B("departureDate",n.add(1,"day")),e.onChange(n),v||T()},placeholder:"Выберите дату заезда"})}}),(0,r.jsx)(l.Qr,{control:V,name:"departureDate",render:n=>{var e;let{field:t}=n;return(0,r.jsx)(o.dz,{label:"Дата отъезда",value:c()(t.value),format:"dddd DD.MM.YYYY",setValue:n=>{t.onChange(n),v||T()},placeholder:"Выберите дату отъезда",minDate:(null===(e=S("arrivalDate"))||void 0===e?void 0:e.add(1,"day"))||void 0})}})]}),(0,r.jsx)(o.q0,{children:"".concat(N||1," ").concat((0,M.$)(N||1,["ночь","ночи","ночей"]))})]}),(0,r.jsx)(nx,{trigger:Q,watch:S,setValue:B,control:V,errors:z,childAges:R,getValues:F,appendChild:U,removeChild:E,handleFormSubmit:T,isBookingDetail:!!v}),I&&!g&&(0,r.jsx)(nF,{amenitiesData:m,isCollapsed:!0,control:V,filterData:D,handleFormSubmit:T})]}),(0,r.jsx)(o.L5,{type:"submit",dark:!0,disabled:!O,isBookingDetail:!!v,children:"Посмотреть"})]})}),C&&(0,r.jsx)(n$.Z,{link:w,isLink:!!b,isMapOpened:!!j,mapOpenFn:C,isBookingDetail:!!v,isPlacement:!!Z}),!I&&!g&&(0,r.jsx)(nF,{amenitiesData:m,control:V,filterData:D,handleFormSubmit:T,isCollapsed:A,isTablet:A})]})};var nN=n_},27982:function(n,e,t){t.d(e,{FE:function(){return I},YF:function(){return D},fk:function(){return z},u1:function(){return V},vA:function(){return M},vO:function(){return A},xJ:function(){return k},xL:function(){return O},yr:function(){return P},z3:function(){return Y}});var r=t(7297),i=t(186);function o(){let n=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 44px;\n"]);return o=function(){return n},n}function l(){let n=(0,r.Z)(["\n    "]);return l=function(){return n},n}function a(){let n=(0,r.Z)(["\n    padding-bottom: 16px;\n    ","\n  "]);return a=function(){return n},n}function u(){let n=(0,r.Z)(["\n  padding-bottom: 32px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  ","\n"]);return u=function(){return n},n}function c(){let n=(0,r.Z)(["\n    "]);return c=function(){return n},n}function d(){let n=(0,r.Z)(["\n    ","\n  "]);return d=function(){return n},n}function s(){let n=(0,r.Z)(["\n  display: flex;\n  gap: ","px;\n  flex-direction: row;\n  ","\n"]);return s=function(){return n},n}function f(){let n=(0,r.Z)(["\n    "]);return f=function(){return n},n}function p(){let n=(0,r.Z)(["\n    flex-direction: column;\n    ","\n  "]);return p=function(){return n},n}function h(){let n=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 32px;\n  ","\n"]);return h=function(){return n},n}function x(){let n=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return x=function(){return n},n}function m(){let n=(0,r.Z)(["\n      max-height: 600px;\n      min-height: 400px;\n  "]);return m=function(){return n},n}function g(){let n=(0,r.Z)(["\n  position: relative;\n  height: 600px;\n  ","\n"]);return g=function(){return n},n}function v(){let n=(0,r.Z)(["\n  width: 326px;\n"]);return v=function(){return n},n}function Z(){let n=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  justify-content: space-around;\n"]);return Z=function(){return n},n}function w(){let n=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  gap: 28px;\n"]);return w=function(){return n},n}function b(){let n=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: calc(100vh - 300px);\n"]);return b=function(){return n},n}function j(){let n=(0,r.Z)(["\n        font-size: ",";\n    "]);return j=function(){return n},n}function C(){let n=(0,r.Z)(["\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    ",";\n  "]);return C=function(){return n},n}function y(){let n=(0,r.Z)(["\n  ","\n"]);return y=function(){return n},n}let D=i.ZP.div.withConfig({componentId:"sc-733451de-0"})(o()),k=i.ZP.div.withConfig({componentId:"sc-733451de-1"})(u(),n=>{let{theme:e}=n;return e.media.down("sm")(a(),e.media.down("xs")(l()))}),I=i.ZP.div.withConfig({componentId:"sc-733451de-2"})(s(),n=>{let{isMain:e}=n;return e?"32":"24"},n=>{let{theme:e}=n;return e.media.down("md")(d(),e.media.down("sm")(c()))}),P=i.ZP.div.withConfig({componentId:"sc-733451de-3"})(h(),n=>{let{theme:e}=n;return e.media.down("md")(p(),e.media.down("sm")(f()))}),A=i.ZP.div.withConfig({componentId:"sc-733451de-4"})(x()),z=i.ZP.div.withConfig({componentId:"sc-733451de-5"})(g(),n=>{let{theme:e}=n;return e.media.down("md")(m())}),O=i.ZP.div.withConfig({componentId:"sc-733451de-6"})(v());i.ZP.div.withConfig({componentId:"sc-733451de-7"})(Z());let Y=i.ZP.div.withConfig({componentId:"sc-733451de-8"})(w()),M=i.ZP.div.withConfig({componentId:"sc-733451de-9"})(b()),V=i.ZP.h3.withConfig({componentId:"sc-733451de-10"})(y(),n=>{let{theme:e}=n;return(0,i.iv)(C(),e.colors.primary,e.font.size.body2,e.font.weight.regular,e.media.down("xs")(j(),e.font.size.subtitle2))})}}]);