"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8248],{43180:function(n,t,e){e.d(t,{ES:function(){return a},Kz:function(){return s},L$:function(){return p},X4:function(){return m},_h:function(){return x},f4:function(){return f},kP:function(){return g},lq:function(){return d},tH:function(){return c},xg:function(){return l}});var o,r,i=e(49305);(o=r||(r={})).NIGHT_RATE="NightRate",o.DAILY_RATE="DailyRate";let u=i.gk.injectEndpoints({endpoints:n=>({calculatePenalty:n.mutation({query:n=>({url:"/booking/".concat(n,"/calculate-penalty"),method:"POST"})}),getDetailBooking:n.query({query:n=>{let{id:t}=n;return{url:"/booking/".concat(t)}},keepUnusedDataFor:0}),cancelBooking:n.mutation({query:n=>{let{id:t}=n;return{url:"/booking/".concat(t,"/cancel"),method:"PUT"}},async onQueryStarted(n,t){let{id:e,...o}=n,{dispatch:r,queryFulfilled:i}=t,{data:c}=await i,a=r(u.util.updateQueryData("getDetailBooking",{id:e},n=>{Object.assign(n,c)}));try{await i}catch(n){a.undo()}},invalidatesTags:["bookings","notifications","bookedByID"]}),approveBooking:n.mutation({query:n=>{let{id:t}=n;return{url:"/booking/".concat(t,"/approve"),method:"PUT"}},async onQueryStarted(n,t){let{id:e,...o}=n,{dispatch:r,queryFulfilled:i}=t,{data:c}=await i,a=r(u.util.updateQueryData("getDetailBooking",{id:e},n=>{Object.assign(n,c)}));try{await i}catch(n){a.undo()}},invalidatesTags:["bookings","notifications"]}),bookExcursion:n.mutation({query:n=>({url:"/booking/excursion",method:"POST",body:n}),extraOptions:{name:"bookExcursion"}}),reInitPayment:n.mutation({query:n=>({url:"/booking/".concat(n,"/payment"),method:"PUT"}),extraOptions:{name:"reInitPayment"}}),bookGuide:n.mutation({query:n=>({url:"/booking/guide",method:"POST",body:n}),extraOptions:{name:"bookGuide"}}),getBookingInfoById:n.query({query:n=>{let{bookingId:t,token:e}=n;return{url:"/booking/".concat(t,"/info/").concat(e),method:"GET"}},extraOptions:{name:"bookingInfo"}}),cancelBookingWithToken:n.mutation({query:n=>{let{bookingId:t,token:e}=n;return{url:"/booking/".concat(t,"/cancel/").concat(e),method:"PUT"}},extraOptions:{name:"cancelBookingWithToken"}}),approveBookingWithToken:n.mutation({query:n=>{let{bookingId:t,token:e}=n;return{url:"/booking/".concat(t,"/approve/").concat(e),method:"PUT"}},extraOptions:{name:"approveBookingWithToken"}})}),overrideExisting:!0}),{useGetDetailBookingQuery:c,useApproveBookingMutation:a,useCancelBookingMutation:l,useCalculatePenaltyMutation:f,useBookExcursionMutation:d,useBookGuideMutation:s,useReInitPaymentMutation:p,useGetBookingInfoByIdQuery:m,useCancelBookingWithTokenMutation:g,useApproveBookingWithTokenMutation:x}=u,{endpoints:{getDetailBooking:h}}=u},33983:function(n,t,e){e.d(t,{$i:function(){return W},Ag:function(){return S},EQ:function(){return E},FT:function(){return _},OM:function(){return G},Re:function(){return A},VQ:function(){return O},W1:function(){return B},bq:function(){return R},eH:function(){return D},gQ:function(){return Q},ke:function(){return N},qJ:function(){return z},vS:function(){return U}});var o=e(7297),r=e(186),i=e(24570);function u(){let n=(0,o.Z)(["\n        left: 10%;\n      "]);return u=function(){return n},n}function c(){let n=(0,o.Z)(["\n        transform: translateX(-50%);\n        left: 50%;\n        width: 100%;\n        max-width: 607px;\n      "]);return c=function(){return n},n}function a(){let n=(0,o.Z)(["\n      transform: scaleY(1) translateX(-50%);\n\n      ",";\n\n      ",";\n    "]);return a=function(){return n},n}function l(){let n=(0,o.Z)(["\n  position: absolute;\n  top: 60px;\n  width: 607px;\n  min-height: 312px;\n  display: flex;\n  left: 50%;\n  align-items: center;\n  flex-direction: column;\n  gap: 8px;\n  padding: 24px;\n  background: #fff;\n  transform: scaleY(0);\n  z-index: 1;\n  border: 3px solid ",";\n  border-radius: 16px;\n\n  ","\n"]);return l=function(){return n},n}function f(){let n=(0,o.Z)(["\n  position: relative;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  height: 64px;\n"]);return f=function(){return n},n}function d(){let n=(0,o.Z)(["\n      font-size: 18px;\n    "]);return d=function(){return n},n}function s(){let n=(0,o.Z)(["\n      padding: 0 4px;\n    "]);return s=function(){return n},n}function p(){let n=(0,o.Z)(["\n      padding: 0 4px;\n      font-size: 16px;\n    "]);return p=function(){return n},n}function m(){let n=(0,o.Z)(["\n    ",";\n    ",";\n    ",";\n  "]);return m=function(){return n},n}function g(){let n=(0,o.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  white-space: nowrap;\n  font-size: 20px;\n  width: 100%;\n  height: 100%;\n  padding: 0 16px;\n  cursor: pointer;\n\n  ","\n"]);return g=function(){return n},n}function x(){let n=(0,o.Z)(["\n   display: flex;\n    flex-direction: column;\n    gap: 0;\n  "]);return x=function(){return n},n}function h(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 31px;\n\n  ",";\n"]);return h=function(){return n},n}function y(){let n=(0,o.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  justify-content: space-between;\n"]);return y=function(){return n},n}function b(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  gap: 8px;\n  cursor: pointer;\n  align-items: center;\n"]);return b=function(){return n},n}function w(){let n=(0,o.Z)(["\n  transform: rotate(90deg);\n"]);return w=function(){return n},n}function k(){let n=(0,o.Z)(["\n  transform: rotate(-90deg);\n"]);return k=function(){return n},n}function Z(){let n=(0,o.Z)(["\n    position: relative;\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n    grid-column: 2;\n    text-align: center;\n    &::after {\n      cursor: default;\n      content: '';\n      position: absolute;\n      left: 0;\n      bottom: -6px;\n      width: 100%;\n      border-bottom: 2px solid ",";\n    }\n  "]);return Z=function(){return n},n}function v(){let n=(0,o.Z)(["\n  ","\n"]);return v=function(){return n},n}function P(){let n=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  margin: 0 30px;\n  tab-index: 0;\n"]);return P=function(){return n},n}function I(){let n=(0,o.Z)(["\n  background: white;\n  display: flex;\n  flex-direction: column;\n  padding: 24px;\n  border-radius: 12px;\n  border: 3px solid #1d7abd;\n"]);return I=function(){return n},n}function C(){let n=(0,o.Z)(["\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n  "]);return C=function(){return n},n}function j(){let n=(0,o.Z)(["\n  ","\n"]);return j=function(){return n},n}function T(){let n=(0,o.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  justify-content: space-between;\n  gap: 20px;\n  margin-bottom: 10px;\n"]);return T=function(){return n},n}function q(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  width: 100%;\n  justify-content: space-between;\n  text-transform: capitalize;\n"]);return q=function(){return n},n}let E=r.ZP.div.withConfig({componentId:"sc-db364936-0"})(l(),n=>n.theme.colors.primary,n=>n.isOpen&&(0,r.iv)(a(),n=>{let{theme:t}=n;return t.media.down("md")(u())},n=>{let{theme:t}=n;return t.media.down("sm")(c())})),z=r.ZP.div.withConfig({componentId:"sc-db364936-1"})(f()),D=r.ZP.span.withConfig({componentId:"sc-db364936-2"})(g(),n=>{let{theme:t}=n;return(0,r.iv)(m(),t.media.down("screen1200")(d()),t.media.down("md")(s()),t.media.down("xxs")(p()))}),O=r.ZP.div.withConfig({componentId:"sc-db364936-3"})(h(),n=>{let{theme:t}=n;return t.media.down("xs")(x())}),B=r.ZP.div.withConfig({componentId:"sc-db364936-4"})(y()),_=r.ZP.div.withConfig({componentId:"sc-db364936-5"})(b()),S=(0,r.ZP)(i.Z).withConfig({componentId:"sc-db364936-6"})(w()),N=(0,r.ZP)(i.Z).withConfig({componentId:"sc-db364936-7"})(k()),Q=r.ZP.span.withConfig({componentId:"sc-db364936-8"})(v(),n=>{let{theme:t}=n;return(0,r.iv)(Z(),t.font.size.body3,t.font.family.gothicDemi,t.colors.primary,t.colors.primary)}),R=r.ZP.div.withConfig({componentId:"sc-db364936-9"})(P()),U=r.ZP.div.withConfig({componentId:"sc-db364936-10"})(I()),W=r.ZP.h3.withConfig({componentId:"sc-db364936-11"})(j(),n=>{let{theme:t}=n;return(0,r.iv)(C(),t.font.size.subtitle2,t.font.family.gothicDemi,t.colors.default)}),A=r.ZP.div.withConfig({componentId:"sc-db364936-12"})(T()),G=r.ZP.div.withConfig({componentId:"sc-db364936-13"})(q())},51949:function(n,t,e){e.d(t,{l:function(){return r}});var o=e(20377);function r(){let{enqueueSnackbar:n}=(0,o.Ds)(),t=(t,e)=>{n(t,{variant:e})};return t}},98726:function(n,t,e){var o=e(67294),r=e(43180),i=e(37574),u=e(11163),c=e(57441),a=e(82390),l=e(51949);let f=()=>{let n=(0,c.T)(),{confirmationToken:t,returnUrl:e}=(0,i.hH)(),[f,{isLoading:d}]=(0,r.L$)(),s=(0,u.useRouter)(),{bookingId:p}=s.query,m=(0,a.f)(),g=(0,l.l)(),x=(0,o.useCallback)(()=>{let n=new window.YooMoneyCheckoutWidget({confirmation_token:null!=t?t:"",return_url:null!=e?e:"",error_callback:n=>{let t="token_expired"===n.error?"Истекло время оплаты":"Что-то пошло не так";g(t,"error")}});n.render("payment-form")},[g,t,e]);return(0,o.useEffect)(()=>{!t&&p&&(async()=>{try{let t=await f(Number(p)).unwrap();if(t.data&&t.data.confirmationToken)n((0,i.Ds)(t.data));else throw Error("Failed to fetch confirmationToken.")}catch(n){console.error("error==>",n)}})()},[p,t]),(0,o.useEffect)(()=>{if(t&&m){let n=document.createElement("script");return n.src="https://yookassa.ru/checkout-widget/v1/checkout-widget.js",n.async=!0,n.onload=()=>x(),document.body.appendChild(n),()=>{document.body.removeChild(n)}}},[m,t]),{confirmationToken:t,returnUrl:e,isLoading:d}};t.Z=f},36788:function(n,t,e){e.d(t,{Z:function(){return v}});var o=e(85893);e(67294);var r=e(9008),i=e.n(r),u=e(65959),c=e(7297),a=e(186);function l(){let n=(0,c.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]);return l=function(){return n},n}function f(){let n=(0,c.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 4px;\n  justify-content: flex-start;\n  align-items: center;\n  cursor: pointer;\n  width: 80px;\n  color: ",";\n"]);return f=function(){return n},n}function d(){let n=(0,c.Z)(["\n  color: ",";\n  font-size: 20px;\n  cursor: pointer;\n"]);return d=function(){return n},n}function s(){let n=(0,c.Z)(["\n    display: none;\n    padding-bottom: 16px;\n  "]);return s=function(){return n},n}function p(){let n=(0,c.Z)(["\n  padding-bottom: 32px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  ","\n"]);return p=function(){return n},n}function m(){let n=(0,c.Z)(["\n    font-family: ",";\n    font-size: ",";\n  "]);return m=function(){return n},n}function g(){let n=(0,c.Z)(["\n  color: #4f4f4f;\n  text-align: center;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 28px;\n  max-width: 460px;\n  align-self: center;\n  ","\n"]);return g=function(){return n},n}let x=a.ZP.div.withConfig({componentId:"sc-ccba93-0"})(l()),h=a.ZP.div.withConfig({componentId:"sc-ccba93-1"})(f(),n=>{let{theme:t}=n;return t.colors.primary}),y=a.ZP.h3.withConfig({componentId:"sc-ccba93-2"})(d(),n=>{let{theme:t}=n;return t.colors.primary});a.ZP.div.withConfig({componentId:"sc-ccba93-3"})(p(),n=>{let{theme:t}=n;return t.media.down("sm")(s())});let b=a.ZP.p.withConfig({componentId:"sc-ccba93-4"})(g(),n=>{let{theme:t}=n;return(0,a.iv)(m(),t.font.family.gothicMedium,t.font.size.body2)});var w=e(11163),k=e(33983);let Z=n=>{let{isLoading:t}=n,e=(0,w.useRouter)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i(),{children:(0,o.jsx)("title",{children:"Go2Kavkaz : Оплата"})}),(0,o.jsx)(u.Z,{showSpinner:t}),(0,o.jsxs)(x,{children:[(0,o.jsxs)(h,{onClick:()=>{e.back()},children:[(0,o.jsx)(k.Ag,{}),(0,o.jsx)(y,{children:"Назад"})]}),(0,o.jsx)(b,{children:"Если у вас включен VPN, то вы можете столкнуться с проблемами при оплате. Рекомендуем выключить VPN сервисы."}),(0,o.jsx)("div",{id:"payment-form"})]})]})};var v=Z}}]);