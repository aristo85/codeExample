"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7174],{47174:function(n,t,e){e.d(t,{Z:function(){return nn}});var i,o,r=e(85893),c=e(67294),u=e(49305);let l=u.gk.injectEndpoints({endpoints:n=>({getNotificationList:n.query({query:n=>({url:"/notification?".concat(n)}),transformResponse:(n,t,e)=>{var i;return{...n,totalItemsCount:(null==t?void 0:null===(i=t.response)||void 0===i?void 0:i.headers.get("X-TOTAL-COUNT"))||"1"}},keepUnusedDataFor:0,providesTags:["notifications"]})})}),{useGetNotificationListQuery:f}=l;var d=e(49836),s=e(20370),a=e(49983),h=e(12712),x=e(7297),g=e(186),p=e(42143),m=e(41664),Z=e.n(m);function w(){let n=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]);return w=function(){return n},n}function I(){let n=(0,x.Z)(["\n      \n    "]);return I=function(){return n},n}function j(){let n=(0,x.Z)(["\n    background: #fffaeb;\n    padding: 16px 24px 16px 24px;\n    display: grid;\n    grid-template-columns: 5% auto;\n    grid-column-gap: 16px;\n    grid-row-gap: 8px;\n    flex-direction: column;\n    gap: 20px;\n    align-items: flex-start;\n    border-radius: 2px;\n    border: 1px solid #f29200;\n    width: 100%;\n    height: 100%;\n    ",";\n  "]);return j=function(){return n},n}function v(){let n=(0,x.Z)(["\n  ","\n"]);return v=function(){return n},n}function k(){let n=(0,x.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n  grid-column: 2;\n"]);return k=function(){return n},n}function C(){let n=(0,x.Z)(["\n      \n    "]);return C=function(){return n},n}function b(){let n=(0,x.Z)(["\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n    grid-column: 2;\n    ",";\n  "]);return b=function(){return n},n}function O(){let n=(0,x.Z)(["\n  ","\n"]);return O=function(){return n},n}function y(){let n=(0,x.Z)(["\n      \n    "]);return y=function(){return n},n}function N(){let n=(0,x.Z)(["\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n    font-weight: ",";\n    grid-column: 2;\n    ",";\n  "]);return N=function(){return n},n}function P(){let n=(0,x.Z)(["\n  ","\n"]);return P=function(){return n},n}function G(){let n=(0,x.Z)(["\n  grid-column: 1;\n  justify-content: flex-start;\n"]);return G=function(){return n},n}function _(){let n=(0,x.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n  grid-column: 2;\n"]);return _=function(){return n},n}function B(){let n=(0,x.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n  align-items: center;\n"]);return B=function(){return n},n}function E(){let n=(0,x.Z)(["\n  width: auto;\n  height: 25px;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  padding: 0 10px;\n  border-radius: 10px;\n"]);return E=function(){return n},n}let U=g.ZP.div.withConfig({componentId:"sc-79c3fff6-0"})(w()),K=g.ZP.div.withConfig({componentId:"sc-79c3fff6-1"})(v(),n=>{let{theme:t}=n;return(0,g.iv)(j(),t.media.down("xs")(I()))}),R=g.ZP.div.withConfig({componentId:"sc-79c3fff6-2"})(k()),z=(0,g.ZP)(Z()).withConfig({componentId:"sc-79c3fff6-3"})(O(),n=>{let{theme:t}=n;return(0,g.iv)(b(),t.font.size.body2,t.font.family.gothicDemi,t.colors.primary,t.media.down("xs")(C()))}),A=g.ZP.h2.withConfig({componentId:"sc-79c3fff6-4"})(P(),n=>{let{theme:t}=n;return(0,g.iv)(N(),t.font.size.body2,t.font.family.gothicDemi,t.colors.default,t.font.weight.regular,t.media.down("xs")(y()))}),S=g.ZP.div.withConfig({componentId:"sc-79c3fff6-5"})(G()),T=g.ZP.div.withConfig({componentId:"sc-79c3fff6-6"})(_()),L=g.ZP.div.withConfig({componentId:"sc-79c3fff6-7"})(B()),D=(0,g.ZP)(p.Z).withConfig({componentId:"sc-79c3fff6-8"})(E());var W=e(84247);(i=o||(o={})).BOOKING="BOOKING",i.BOOKING_GUIDE="BOOKING_GUIDE",i.BOOKING_EXCURSION="BOOKING_EXCURSION";var X=e(20293);let F={[o.BOOKING]:(0,r.jsx)(W.Z,{}),[o.BOOKING_EXCURSION]:(0,r.jsx)(W.Z,{}),[o.BOOKING_GUIDE]:(0,r.jsx)(W.Z,{})},$=n=>{let{type:t,message:e,meta:i,onAcceptClickButtonFn:c,onDeclineClickButtonFn:u}=n,l=(0,r.jsx)(S,{children:F[t]}),f=t===o.BOOKING?(0,r.jsxs)(U,{children:[(0,r.jsx)(L,{children:(0,r.jsx)(R,{children:(0,r.jsxs)(A,{children:["".concat(e," "),(0,r.jsx)(z,{href:"/control-panel/booking/placement/".concat(i.bookingId),children:i.bookingId}),". Объект размещения - ".concat(i.placementName)]})})}),i.status==X.g.WAITING_PARTNER&&(null==i?void 0:i.bookingNumber)&&(0,r.jsxs)(T,{children:[(0,r.jsx)(D,{dark:!0,onClick:()=>c(i.bookingId),children:"Подтвердить"}),(0,r.jsx)(D,{onClick:()=>u(i.bookingId),children:"Отменить"})]})]}):t===o.BOOKING_GUIDE?(0,r.jsxs)(U,{children:[(0,r.jsx)(L,{children:(0,r.jsx)(R,{children:(0,r.jsxs)(A,{children:["".concat(e," "),(0,r.jsx)(z,{href:"/control-panel/booking/guide/".concat(i.bookingId),children:i.bookingId}),". Гид - ".concat(i.guideName)]})})}),i.status===X.g.WAITING_PARTNER&&(0,r.jsxs)(T,{children:[(0,r.jsx)(D,{dark:!0,onClick:()=>c(i.bookingId),children:"Подтвердить"}),(0,r.jsx)(D,{onClick:()=>u(i.bookingId),children:"Отменить"})]})]}):t===o.BOOKING_EXCURSION?(0,r.jsxs)(U,{children:[(0,r.jsx)(L,{children:(0,r.jsx)(R,{children:(0,r.jsxs)(A,{children:["".concat(e," "),(0,r.jsx)(z,{href:"/control-panel/booking/excursion/".concat(i.bookingId),children:i.bookingId}),". Экскурсия - ".concat(i.excursionName)]})})}),i.status===X.g.WAITING_PARTNER&&(0,r.jsxs)(T,{children:[(0,r.jsx)(D,{dark:!0,onClick:()=>c(i.bookingId),children:"Подтвердить"}),(0,r.jsx)(D,{onClick:()=>u(i.bookingId),children:"Отменить"})]})]}):null;return(0,r.jsxs)(K,{children:[l,f]})};var M=e(43180),q=e(65959),V=e(74037),Y=e(49043),H=e(96894),J=e(51949);let Q=()=>{let[n,t]=(0,c.useState)(0),{data:e,isLoading:i,refetch:o}=f((0,d.z)({limit:H.UZ,offset:n})),u=(0,J.l)(),[l,{isLoading:x}]=(0,M.ES)(),{isCancellationModalOpen:g,modalCancelButtonClickFunction:p,modalAcceptButtonClickFunction:m,onCancelButtonWithoutCalculatePenaltyClick:Z,isLoadingCancel:w}=(0,Y.L)(),{data:I,totalItemsCount:j}=e||{},v=()=>{t(n=>n-H.UZ)},k=()=>{t(n=>n+H.UZ)},C=n>=parseInt(j||"0")-H.UZ,b=async n=>{try{let t=await l({id:n}).unwrap();t.success&&u("Вы успешно подтвердили бронирование","success"),o()}catch(n){console.error(n)}};return(0,r.jsxs)(s.mh,{children:[(0,r.jsx)(V.W,{isOpen:g,closeButton:p,cancelBooking:m,penaltyAmount:null}),(0,r.jsx)(q.Z,{showSpinner:w||x}),(0,r.jsxs)(s.O$,{children:[(0,r.jsx)(s.k3,{children:"Уведомления"}),(0,r.jsxs)(s._O,{children:[(0,r.jsx)(s.Sn,{onClick:v,disabled:n<=0,children:(0,r.jsx)(a.Z,{})}),(0,r.jsx)(s.Sn,{onClick:k,disabled:C,children:(0,r.jsx)(h.Z,{})})]})]}),(0,r.jsxs)(s.$e,{children:[null==I?void 0:I.map(n=>(0,c.createElement)($,{...n,key:n.id,onAcceptClickButtonFn:b,onDeclineClickButtonFn:Z})),!(null==I?void 0:I.length)&&(0,r.jsx)(s._Y,{children:"Здесь будут уведомления"})]})]})};var nn=Q},20370:function(n,t,e){e.d(t,{$e:function(){return O},O$:function(){return G},Sn:function(){return E},_O:function(){return _},_Y:function(){return y},k3:function(){return N},mh:function(){return b},vb:function(){return P}});var i=e(7297),o=e(186);function r(){let n=(0,i.Z)(["\n      width: 100%;\n    "]);return r=function(){return n},n}function c(){let n=(0,i.Z)(["\n    display: flex;\n    width: 80%;\n    flex-direction: column;\n    gap: 32px;\n    margin-bottom: 40px;\n    ","\n  "]);return c=function(){return n},n}function u(){let n=(0,i.Z)(["\n  ","\n"]);return u=function(){return n},n}function l(){let n=(0,i.Z)(["\n      \n    "]);return l=function(){return n},n}function f(){let n=(0,i.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n    ","\n  "]);return f=function(){return n},n}function d(){let n=(0,i.Z)(["\n  ","\n"]);return d=function(){return n},n}function s(){let n=(0,i.Z)(["\n      \n    "]);return s=function(){return n},n}function a(){let n=(0,i.Z)(["\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n    font-weight: ",";\n    text-align: center;\n    ","\n  "]);return a=function(){return n},n}function h(){let n=(0,i.Z)(["\n  ","\n"]);return h=function(){return n},n}function x(){let n=(0,i.Z)(["\n      \n    "]);return x=function(){return n},n}function g(){let n=(0,i.Z)(["\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n    font-weight: ",";\n    ","\n  "]);return g=function(){return n},n}function p(){let n=(0,i.Z)(["\n  ","\n"]);return p=function(){return n},n}function m(){let n=(0,i.Z)(["\n       flex-direction: column;\n    "]);return m=function(){return n},n}function Z(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 56px;\n  align-items: flex-start;\n  margin-top: 16px;\n\n  ","\n"]);return Z=function(){return n},n}function w(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]);return w=function(){return n},n}function I(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n"]);return I=function(){return n},n}function j(){let n=(0,i.Z)(["\n    "]);return j=function(){return n},n}function v(){let n=(0,i.Z)(["\n    cursor: ",";\n    height: auto;\n    outline: none;\n    background: none;\n    border: none;\n\n    &:active path {\n      stroke: ",";\n    }\n\n    & path {\n      stroke: ",";\n    }\n\n    ",";\n  "]);return v=function(){return n},n}function k(){let n=(0,i.Z)(["\n  ","\n"]);return k=function(){return n},n}function C(){let n=(0,i.Z)(["\n  ",";\n"]);return C=function(){return n},n}let b=o.ZP.div.withConfig({componentId:"sc-4a3754a6-0"})(u(),n=>{let{theme:t}=n;return(0,o.iv)(c(),t.media.down("md")(r()))}),O=o.ZP.div.withConfig({componentId:"sc-4a3754a6-1"})(d(),n=>{let{theme:t}=n;return(0,o.iv)(f(),t.media.down("xs")(l()))}),y=o.ZP.h3.withConfig({componentId:"sc-4a3754a6-2"})(h(),n=>{let{theme:t}=n;return(0,o.iv)(a(),t.font.size.subtitle2,t.font.family.gothicMedium,t.colors.primary,t.font.weight.regular,t.media.down("xs")(s()))}),N=o.ZP.h2.withConfig({componentId:"sc-4a3754a6-3"})(p(),n=>{let{theme:t}=n;return(0,o.iv)(g(),t.font.size.heading2,t.font.family.gothicMedium,t.colors.default,t.font.weight.regular,t.media.down("xs")(x()))}),P=o.ZP.div.withConfig({componentId:"sc-4a3754a6-4"})(Z(),n=>{let{theme:t}=n;return t.media.down("md")(m())}),G=o.ZP.div.withConfig({componentId:"sc-4a3754a6-5"})(w()),_=o.ZP.div.withConfig({componentId:"sc-4a3754a6-6"})(I()),B=(0,o.iv)(k(),n=>{let{theme:t,disabled:e}=n;return(0,o.iv)(v(),e?"not-allowed":"pointer","#22212152",e?"#22212152":"#222121",t.media.down("md")(j()))}),E=o.ZP.button.withConfig({componentId:"sc-4a3754a6-7"})(C(),B)},84247:function(n,t,e){var i=e(85893);e(67294);let o=n=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:20,fill:"none",...n,children:(0,i.jsx)("path",{fill:"#F29200",d:"M15 13.984 17.016 16v.984H.984V16L3 13.984V9.016c0-1.563.39-2.922 1.172-4.079.812-1.156 1.922-1.906 3.328-2.25v-.703c0-.406.14-.75.422-1.03.281-.313.64-.47 1.078-.47.438 0 .797.157 1.078.47.281.28.422.624.422 1.03v.704c1.406.343 2.5 1.093 3.281 2.25C14.594 6.093 15 7.453 15 9.015v4.968Zm-6 6a2.069 2.069 0 0 1-1.453-.562c-.375-.375-.563-.844-.563-1.406h4.032c0 .53-.204 1-.61 1.406A2.011 2.011 0 0 1 9 19.984Z"})});t.Z=o},49983:function(n,t,e){var i=e(85893);e(67294);let o=n=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:40,height:40,fill:"none",...n,children:(0,i.jsx)("path",{stroke:"#222121",strokeLinecap:"round",strokeWidth:2,d:"m25 30-9.293-9.293a1 1 0 0 1 0-1.414L25 10"})});t.Z=o},12712:function(n,t,e){var i=e(85893);e(67294);let o=n=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:40,height:40,fill:"none",...n,children:(0,i.jsx)("path",{stroke:"#222121",strokeLinecap:"round",strokeWidth:2,d:"m15 10 9.293 9.293a1 1 0 0 1 0 1.414L15 30"})});t.Z=o}}]);